From 2e8e5ea86b19ca4f95c0f07b79c6f201b61f7b09 Mon Sep 17 00:00:00 2001
From: Sebastian Lackner <sebastian@fds-team.de>
Date: Tue, 15 Mar 2016 17:41:24 +0100
Subject: msi: Fix stack alignment in CUSTOMPROC_wrapper.

Spotted by Dmitry Timoshkov.
---
 dlls/msi/custom.c | 1 +
 1 file changed, 1 insertion(+)

diff --git a/dlls/msi/custom.c b/dlls/msi/custom.c
index 4e934bd..35a1b5c 100644
--- a/dlls/msi/custom.c
+++ b/dlls/msi/custom.c
@@ -539,6 +539,7 @@ __ASM_GLOBAL_FUNC( CUSTOMPROC_wrapper,
     __ASM_CFI(".cfi_rel_offset %ebp,0\n\t")
     "movl %esp,%ebp\n\t"
     __ASM_CFI(".cfi_def_cfa_register %ebp\n\t")
+    "subl $4,%esp\n\t"
     "pushl 12(%ebp)\n\t"
     "movl 8(%ebp),%eax\n\t"
     "call *%eax\n\t"
-- 
2.7.1

