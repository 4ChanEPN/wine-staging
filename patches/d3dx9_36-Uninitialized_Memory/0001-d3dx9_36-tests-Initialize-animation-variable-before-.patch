From 8a6a57c05ad79d3f2f9b059eae4a2d4a663bb8c0 Mon Sep 17 00:00:00 2001
From: Sebastian Lackner <sebastian@fds-team.de>
Date: Tue, 19 Jan 2016 16:28:40 +0100
Subject: d3dx9_36/tests: Initialize animation variable before
 D3DXCreateAnimationController test.

---
 dlls/d3dx9_36/tests/mesh.c | 12 ++++++++----
 1 file changed, 8 insertions(+), 4 deletions(-)

diff --git a/dlls/d3dx9_36/tests/mesh.c b/dlls/d3dx9_36/tests/mesh.c
index 7c86190..52b109c 100644
--- a/dlls/d3dx9_36/tests/mesh.c
+++ b/dlls/d3dx9_36/tests/mesh.c
@@ -11109,21 +11109,25 @@ static void D3DXCreateAnimationControllerTest(void)
     hr = D3DXCreateAnimationController(0, 0, 0, 0, NULL);
     ok(hr == D3D_OK, "Got unexpected hr returned %#x.\n", hr);
 
+    animation = (void *)0xdeadbeef;
     hr = D3DXCreateAnimationController(0, 1, 1, 1, &animation);
     ok(hr == D3D_OK, "Got unexpected hr returned %#x.\n", hr);
-    ok(!animation, "Got unexpected animation %p.\n", animation);
+    ok(animation == (void *)0xdeadbeef, "Got unexpected animation %p.\n", animation);
 
+    animation = (void *)0xdeadbeef;
     hr = D3DXCreateAnimationController(1, 0, 1, 1, &animation);
     ok(hr == D3D_OK, "Got unexpected hr returned %#x.\n", hr);
-    ok(!animation, "Got unexpected animation %p.\n", animation);
+    ok(animation == (void *)0xdeadbeef, "Got unexpected animation %p.\n", animation);
 
+    animation = (void *)0xdeadbeef;
     hr = D3DXCreateAnimationController(1, 1, 0, 1, &animation);
     ok(hr == D3D_OK, "Got unexpected hr returned %#x.\n", hr);
-    ok(!animation, "Got unexpected animation %p.\n", animation);
+    ok(animation == (void *)0xdeadbeef, "Got unexpected animation %p.\n", animation);
 
+    animation = (void *)0xdeadbeef;
     hr = D3DXCreateAnimationController(1, 1, 1, 0, &animation);
     ok(hr == D3D_OK, "Got unexpected hr returned %#x.\n", hr);
-    ok(!animation, "Got unexpected animation %p.\n", animation);
+    ok(animation == (void *)0xdeadbeef, "Got unexpected animation %p.\n", animation);
 
     hr = D3DXCreateAnimationController(1, 1, 1, 1, &animation);
     ok(hr == D3D_OK, "Got unexpected hr returned %#x.\n", hr);
-- 
2.6.4

