From 35fd800789c10045216d6649ce568264f0cf68da Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Stefan=20D=C3=B6singer?= <stefan@codeweavers.com>
Date: Wed, 10 Apr 2013 20:09:55 +0200
Subject: wined3d: Wait for the cs to finish before destroying the device

---
 dlls/wined3d/device.c | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/dlls/wined3d/device.c b/dlls/wined3d/device.c
index cd0ffbe32f7..61c862de138 100644
--- a/dlls/wined3d/device.c
+++ b/dlls/wined3d/device.c
@@ -1183,6 +1183,8 @@ HRESULT CDECL wined3d_device_uninit_3d(struct wined3d_device *device)
     if (!device->d3d_initialized)
         return WINED3DERR_INVALIDCALL;
 
+    wined3d_cs_emit_sync(device->cs);
+
     if (device->logo_texture)
         wined3d_texture_decref(device->logo_texture);
     if (device->cursor_texture)
-- 
2.11.0

