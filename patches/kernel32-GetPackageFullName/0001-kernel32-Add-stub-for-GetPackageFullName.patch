From d8b434940cd2206dd8c6c731c1ce2d331e0b0d50 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Michael=20M=C3=BCller?= <michael@fds-team.de>
Date: Thu, 2 Feb 2017 20:49:15 +0100
Subject: kernel32: Add stub for GetPackageFullName.

---
 .../api-ms-win-appmodel-runtime-l1-1-1.spec                      | 2 +-
 dlls/kernel32/kernel32.spec                                      | 1 +
 dlls/kernel32/version.c                                          | 9 +++++++++
 dlls/kernelbase/kernelbase.spec                                  | 2 +-
 4 files changed, 12 insertions(+), 2 deletions(-)

diff --git a/dlls/api-ms-win-appmodel-runtime-l1-1-1/api-ms-win-appmodel-runtime-l1-1-1.spec b/dlls/api-ms-win-appmodel-runtime-l1-1-1/api-ms-win-appmodel-runtime-l1-1-1.spec
index 50f8594785..4d2edd60f5 100644
--- a/dlls/api-ms-win-appmodel-runtime-l1-1-1/api-ms-win-appmodel-runtime-l1-1-1.spec
+++ b/dlls/api-ms-win-appmodel-runtime-l1-1-1/api-ms-win-appmodel-runtime-l1-1-1.spec
@@ -10,7 +10,7 @@
 @ stub GetCurrentPackagePath
 @ stub GetPackageApplicationIds
 @ stub GetPackageFamilyName
-@ stub GetPackageFullName
+@ stdcall GetPackageFullName(long ptr ptr) kernel32.GetPackageFullName
 @ stub GetPackageId
 @ stub GetPackageInfo
 @ stub GetPackagePath
diff --git a/dlls/kernel32/kernel32.spec b/dlls/kernel32/kernel32.spec
index 819b52dbb9..4dcc40ea5d 100644
--- a/dlls/kernel32/kernel32.spec
+++ b/dlls/kernel32/kernel32.spec
@@ -761,6 +761,7 @@
 @ stdcall GetOEMCP()
 @ stdcall GetOverlappedResult(long ptr ptr long)
 @ stdcall GetUserPreferredUILanguages(long ptr ptr ptr)
+@ stdcall GetPackageFullName(long ptr ptr)
 @ stdcall GetPhysicallyInstalledSystemMemory(ptr)
 @ stdcall GetPriorityClass(long)
 @ stdcall GetPrivateProfileIntA(str str long str)
diff --git a/dlls/kernel32/version.c b/dlls/kernel32/version.c
index 5a233efe56..3cca2ae68e 100644
--- a/dlls/kernel32/version.c
+++ b/dlls/kernel32/version.c
@@ -228,3 +228,12 @@ LONG WINAPI GetCurrentPackageFullName(UINT32 *length, PWSTR name)
     FIXME("(%p %p): stub\n", length, name);
     return APPMODEL_ERROR_NO_PACKAGE;
 }
+
+/***********************************************************************
+ *           GetPackageFullName       (KERNEL32.@)
+ */
+LONG WINAPI GetPackageFullName(HANDLE process, UINT32 *length, PWSTR name)
+{
+    FIXME("(%p %p %p): stub\n", process, length, name);
+    return APPMODEL_ERROR_NO_PACKAGE;
+}
diff --git a/dlls/kernelbase/kernelbase.spec b/dlls/kernelbase/kernelbase.spec
index 9fba5803b2..d040ba00a8 100644
--- a/dlls/kernelbase/kernelbase.spec
+++ b/dlls/kernelbase/kernelbase.spec
@@ -593,7 +593,7 @@
 # @ stub GetPackageContext
 # @ stub GetPackageFamilyName
 # @ stub GetPackageFamilyNameFromToken
-# @ stub GetPackageFullName
+@ stdcall GetPackageFullName(long ptr ptr) kernel32.GetPackageFullName
 # @ stub GetPackageFullNameFromToken
 # @ stub GetPackageId
 # @ stub GetPackageInfo
-- 
2.11.0

