From 85771b3079ab71a2e4e4a81e7ed3e1f6f63e93ef Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Michael=20M=C3=BCller?= <michael@fds-team.de>
Date: Wed, 5 Nov 2014 05:06:06 +0100
Subject: ntoskrnl: Add stub for KeSetSystemAffinityThread.

---
 dlls/ntoskrnl.exe/ntoskrnl.c        | 9 +++++++++
 dlls/ntoskrnl.exe/ntoskrnl.exe.spec | 2 +-
 2 files changed, 10 insertions(+), 1 deletion(-)

diff --git a/dlls/ntoskrnl.exe/ntoskrnl.c b/dlls/ntoskrnl.exe/ntoskrnl.c
index a31b186..8d3e3c6 100644
--- a/dlls/ntoskrnl.exe/ntoskrnl.c
+++ b/dlls/ntoskrnl.exe/ntoskrnl.c
@@ -1404,6 +1404,15 @@ KPRIORITY WINAPI KeSetPriorityThread( PKTHREAD Thread, KPRIORITY Priority )
 
 
 /***********************************************************************
+ *           KeSetSystemAffinityThread    (NTOSKRNL.EXE.@)
+ */
+VOID WINAPI KeSetSystemAffinityThread( KAFFINITY affinity )
+{
+    FIXME("(%lx)\n", affinity);
+}
+
+
+/***********************************************************************
  *           KeWaitForSingleObject   (NTOSKRNL.EXE.@)
  */
 NTSTATUS WINAPI KeWaitForSingleObject(PVOID Object,
diff --git a/dlls/ntoskrnl.exe/ntoskrnl.exe.spec b/dlls/ntoskrnl.exe/ntoskrnl.exe.spec
index 4ead907..356c3a3 100644
--- a/dlls/ntoskrnl.exe/ntoskrnl.exe.spec
+++ b/dlls/ntoskrnl.exe/ntoskrnl.exe.spec
@@ -614,7 +614,7 @@
 @ stub KeSetKernelStackSwapEnable
 @ stdcall KeSetPriorityThread(ptr long)
 @ stub KeSetProfileIrql
-@ stub KeSetSystemAffinityThread
+@ stdcall KeSetSystemAffinityThread(long)
 @ stub KeSetTargetProcessorDpc
 @ stub KeSetTimeIncrement
 @ stub KeSetTimer
-- 
1.9.1

