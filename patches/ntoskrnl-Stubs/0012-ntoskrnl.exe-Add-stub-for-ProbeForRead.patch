From 091911f7841be1d88128ed63fd1d56f44d7c99a6 Mon Sep 17 00:00:00 2001
From: Austin English <austinenglish@gmail.com>
Date: Fri, 27 Feb 2015 01:27:07 +0100
Subject: ntoskrnl.exe: Add stub for ProbeForRead.

---
 dlls/ntoskrnl.exe/ntoskrnl.c        | 8 ++++++++
 dlls/ntoskrnl.exe/ntoskrnl.exe.spec | 2 +-
 2 files changed, 9 insertions(+), 1 deletion(-)

diff --git a/dlls/ntoskrnl.exe/ntoskrnl.c b/dlls/ntoskrnl.exe/ntoskrnl.c
index 3d1db1b..a4d5641 100644
--- a/dlls/ntoskrnl.exe/ntoskrnl.c
+++ b/dlls/ntoskrnl.exe/ntoskrnl.c
@@ -2470,3 +2470,11 @@ void WINAPI KeLeaveCriticalRegion(void)
 {
     FIXME(": stub\n");
 }
+
+/***********************************************************************
+ *           ProbeForRead   (NTOSKRNL.EXE.@)
+ */
+VOID WINAPI ProbeForRead(PVOID address, SIZE_T length, ULONG alignment)
+{
+    FIXME("%p %lu %u\n", address, length, alignment);
+}
diff --git a/dlls/ntoskrnl.exe/ntoskrnl.exe.spec b/dlls/ntoskrnl.exe/ntoskrnl.exe.spec
index e1d594b..14ce087 100644
--- a/dlls/ntoskrnl.exe/ntoskrnl.exe.spec
+++ b/dlls/ntoskrnl.exe/ntoskrnl.exe.spec
@@ -835,7 +835,7 @@
 @ stub PoShutdownBugCheck
 @ stub PoStartNextPowerIrp
 @ stub PoUnregisterSystemState
-@ stub ProbeForRead
+@ stdcall ProbeForRead(ptr long long)
 @ stub ProbeForWrite
 @ stub PsAssignImpersonationToken
 @ stub PsChargePoolQuota
-- 
2.5.1

