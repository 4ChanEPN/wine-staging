#
# This file is automatically generated, DO NOT EDIT!
#

.NOTPARALLEL:

CURDIR    ?= ${.CURDIR}
PATCH     := $(CURDIR)/../debian/tools/gitapply.sh
APPLY      = (cd "$(DESTDIR)" && $(PATCH))
APPLY_FILE = @echo "Applying $(1)"; $(APPLY) < "$(CURDIR)/$(1)"

#
# This Makefile understands the following targets:
#
# install (default):  apply patches to directory provided by DESTDIR
# install-git:        as above, but use 'git am' to apply the patches
# series:             create a 'series' file containing the patch order
# clean:              delete autogenerated and temporary files
#

PATCHLIST := \
	Miscellaneous.ok \
	Pipelight.ok \
	atl-IOCS_Property.ok \
	bcrypt-BCryptGetFipsAlgorithmMode.ok \
	comctl32-ImageList.ok \
	comctl32-LoadIconMetric.ok \
	configure-Absolute_RPATH.ok \
	dsound-Fast_Mixer.ok \
	fonts-Missing_Fonts.ok \
	iphlpapi-TCP_Table.ok \
	kernel32-GetFinalPathNameByHandle.ok \
	kernel32-GetSystemTimes.ok \
	kernel32-GetVolumePathName.ok \
	kernel32-Named_Pipe.ok \
	kernel32-SystemFileCacheSize.ok \
	libs-Unicode_Collation.ok \
	loader-Cmdline_Diagnostics.ok \
	ntdll-DOS_Attributes.ok \
	ntdll-Dynamic_DST.ok \
	ntdll-FD_Cache.ok \
	ntdll-FileDispositionInformation.ok \
	ntdll-Fix_Alignment.ok \
	ntdll-Fix_Free.ok \
	ntdll-Heap_FreeLists.ok \
	ntdll-Junction_Points.ok \
	ntdll-Pipe_SpecialCharacters.ok \
	ntdll-Save_Regs_Entrypoint.ok \
	ntdll-loader_EntryPoint.ok \
	quartz-MediaSeeking_Positions.ok \
	riched20-IText_Interface.ok \
	server-ACL_Compat.ok \
	server-Address_Change_Notification.ok \
	server-CreateProcess_ACLs.ok \
	server-Inherited_ACLs.ok \
	server-Misc_ACL.ok \
	server-OpenProcess.ok \
	server-Stored_ACLs.ok \
	shell32-Default_Folder_ACLs.ok \
	shell32-Default_Path.ok \
	shell32-Icons.ok \
	shell32-RunDLL_CallEntry16.ok \
	shell32-SHCreateSessionKey.ok \
	shlwapi-UrlCombine.ok \
	user32-GetSystemMetrics.ok \
	user32-GetTipText.ok \
	user32-WndProc.ok \
	wineboot-HKEY_DYN_DATA.ok \
	winebuild-LinkerVersion.ok \
	winepulse-PulseAudio_Support.ok \
	winex11-Limited_Resolutions.ok \
	winex11-Window_Groups.ok \
	winex11-XEMBED.ok \
	wpcap-Dynamic_Linking.ok \
	ws2_32-Connect_Time.ok \
	ws2_32-TransmitFile.ok \
	ws2_32-inet_pton.ok \
	wtsapi32-EnumerateProcesses.ok

.PHONY: install
install: $(PATCHLIST)
	cat *.ok | sort | $(CURDIR)/../debian/tools/patchlist.sh | $(APPLY)
	cd $(DESTDIR) && autoreconf -f
	cd $(DESTDIR) && ./tools/make_requests

.PHONY: install-git
install-git: PATCH := git am
install-git: install

series: APPLY_FILE = @echo "$(1)" >> series
series: $(PATCHLIST)
	@cat *.ok | sort | $(CURDIR)/../debian/tools/patchlist.sh > patchlist.diff
	@echo "patchlist.diff" >> series
	@( \
		echo ""; \
		echo "The 'series' file was created in current directory. Please note that"; \
		echo "'patchlist.diff' is autogenerated based on your selection of patches and not"; \
		echo "included in this repository - keep in mind to update it on every release."; \
		echo ""; \
		echo "Moreover, depending on which patches you have selected, you will have to run"; \
		echo "'autoreconf -f' and/or './tools/make_requests' after applying them."; \
		echo ""; \
		binary=0; \
		while IFS= read -r line; do \
			if grep -q "^GIT binary patch" "$$line"; then \
				binary=1; break; \
			fi \
		done < series; \
		if [ "$$binary" -ne 0 ]; then \
			echo "The following files contain binary patches and cannot be applied with the"; \
			echo "regular 'patch' commandline tool:"; \
			echo ""; \
			while IFS= read -r line; do \
				grep -q "^GIT binary patch" "$$line" && echo "$$line"; \
			done < series; \
			echo ""; \
			echo "Please use 'git apply' or '../debian/tools/gitapply.sh' from this repository."; \
			echo ""; \
		fi \
	)

.PHONY: clean
clean:
	rm -f series patchlist.diff
	rm -f *.ok

# Patchset Miscellaneous
# |
# | Included patches:
# |   *	kernel32: Silence repeated CompareStringEx FIXME. [by Sebastian Lackner]
# |   *	wined3d: Silence repeated resource_check_usage FIXME. [rev 2, by Erich E. Hoover]
# |   *	wined3d: Silence repeated wined3d_swapchain_present FIXME. [by Sebastian Lackner]
# |   *	Appease the blessed version of gcc (4.5) when -Werror is enabled. [by Erich E. Hoover]
# |   *	Appease the Archlinux version of gcc (4.9.1) when -Werror is enabled. [by Sebastian Lackner]
# |
# | Modified files:
# |   *	dlls/d3d9/tests/visual.c, dlls/kernel32/locale.c, dlls/msvcp90/ios.c, dlls/msvcp90/locale.c, dlls/msvcp90/string.c,
# | 	dlls/netapi32/netapi32.c, dlls/winealsa.drv/mmdevdrv.c, dlls/wined3d/glsl_shader.c, dlls/wined3d/resource.c,
# | 	dlls/wined3d/swapchain.c, server/object.c, tools/makedep.c
# |
.INTERMEDIATE: Miscellaneous.ok
Miscellaneous.ok:
	$(call APPLY_FILE,Miscellaneous/0001-wined3d-Silence-repeated-resource_check_usage-FIXME.patch)
	$(call APPLY_FILE,Miscellaneous/0002-kernel32-Silence-repeated-CompareStringEx-FIXME.patch)
	$(call APPLY_FILE,Miscellaneous/0003-wined3d-Silence-repeated-wined3d_swapchain_present-F.patch)
	$(call APPLY_FILE,Miscellaneous/0004-Appease-the-blessed-version-of-gcc-4.5-when-Werror-i.patch)
	$(call APPLY_FILE,Miscellaneous/0005-Appease-the-Archlinux-version-of-gcc-4.9.1-when-Werr.patch)
	@( \
		echo '+    { "Miscellaneous", "Sebastian Lackner", "kernel32: Silence repeated CompareStringEx FIXME." },'; \
		echo '+    { "Miscellaneous", "Erich E. Hoover", "wined3d: Silence repeated resource_check_usage FIXME. [rev 2]" },'; \
		echo '+    { "Miscellaneous", "Sebastian Lackner", "wined3d: Silence repeated wined3d_swapchain_present FIXME." },'; \
		echo '+    { "Miscellaneous", "Erich E. Hoover", "Appease the blessed version of gcc (4.5) when -Werror is enabled." },'; \
		echo '+    { "Miscellaneous", "Sebastian Lackner", "Appease the Archlinux version of gcc (4.9.1) when -Werror is enabled." },'; \
	) > Miscellaneous.ok

# Patchset Pipelight
# |
# | Included patches:
# |   *	Decrease minimum SetTimer interval to 5 ms. [rev 2, by Michael Müller]
# |   *	Allow changing strict draw ordering through an exported function. [by Michael Müller]
# |   *	Indicate direct rendering through OpenGL extension. [by Michael Müller]
# |   *	Implement X11DRV_FLUSH_GDI_DISPLAY ExtEscape command. [by Sebastian Lackner]
# |
# | Modified files:
# |   *	dlls/user32/message.c, dlls/wined3d/wined3d.spec, dlls/wined3d/wined3d_main.c, dlls/winex11.drv/init.c,
# | 	dlls/winex11.drv/opengl.c, dlls/winex11.drv/x11drv.h
# |
.INTERMEDIATE: Pipelight.ok
Pipelight.ok:
	$(call APPLY_FILE,Pipelight/0001-winex11-Implement-X11DRV_FLUSH_GDI_DISPLAY-ExtEscape-c.patch)
	$(call APPLY_FILE,Pipelight/0002-user32-Decrease-minimum-SetTimer-interval-to-5-ms.patch)
	$(call APPLY_FILE,Pipelight/0003-wined3d-allow-changing-strict-drawing-through-an-exp.patch)
	$(call APPLY_FILE,Pipelight/0004-winex11.drv-Indicate-direct-rendering-through-OpenGL.patch)
	@( \
		echo '+    { "Pipelight", "Michael Müller", "Decrease minimum SetTimer interval to 5 ms. [rev 2]" },'; \
		echo '+    { "Pipelight", "Michael Müller", "Allow changing strict draw ordering through an exported function." },'; \
		echo '+    { "Pipelight", "Michael Müller", "Indicate direct rendering through OpenGL extension." },'; \
		echo '+    { "Pipelight", "Sebastian Lackner", "Implement X11DRV_FLUSH_GDI_DISPLAY ExtEscape command." },'; \
	) > Pipelight.ok

# Patchset atl-IOCS_Property
# |
# | Included patches:
# |   *	Store IOCS data in a property instead of GWLP_USERDATA. [by Qian Hong]
# |
# | This patchset fixes the following Wine bugs:
# |   *	[#21767] ATL IOCS data should not be stored in GWLP_USERDATA
# |
# | Modified files:
# |   *	dlls/atl/atl_ax.c
# |
.INTERMEDIATE: atl-IOCS_Property.ok
atl-IOCS_Property.ok:
	$(call APPLY_FILE,atl-IOCS_Property/0001-atl-Don-t-use-GWLP_USERDATA-to-store-IOCS-to-avoid-c.patch)
	@( \
		echo '+    { "atl-IOCS_Property", "Qian Hong", "Store IOCS data in a property instead of GWLP_USERDATA." },'; \
	) > atl-IOCS_Property.ok

# Patchset bcrypt-BCryptGetFipsAlgorithmMode
# |
# | Included patches:
# |   *	Add semi-stub for BCryptGetFipsAlgorithmMode. [by Michael Müller]
# |
# | This patchset fixes the following Wine bugs:
# |   *	[#32194] Support for BCryptGetFipsAlgorithmMode
# |
# | Modified files:
# |   *	dlls/bcrypt/bcrypt.spec, dlls/bcrypt/bcrypt_main.c, dlls/bcrypt/tests/bcrypt.c
# |
.INTERMEDIATE: bcrypt-BCryptGetFipsAlgorithmMode.ok
bcrypt-BCryptGetFipsAlgorithmMode.ok:
	$(call APPLY_FILE,bcrypt-BCryptGetFipsAlgorithmMode/0001-bcrypt-Add-semi-stub-for-BCryptGetFipsAlgorithmMode.patch)
	@( \
		echo '+    { "bcrypt-BCryptGetFipsAlgorithmMode", "Michael Müller", "Add semi-stub for BCryptGetFipsAlgorithmMode." },'; \
	) > bcrypt-BCryptGetFipsAlgorithmMode.ok

# Patchset comctl32-ImageList
# |
# | Included patches:
# |   *	Fix issue that dragimage in ImageList only works for first four elements. [by Sebastian Lackner]
# |
# | This patchset fixes the following Wine bugs:
# |   *	[#36761] Fix issue with invisible dragimages in ImageList
# |
# | Modified files:
# |   *	dlls/comctl32/imagelist.c
# |
.INTERMEDIATE: comctl32-ImageList.ok
comctl32-ImageList.ok:
	$(call APPLY_FILE,comctl32-ImageList/0001-comctl32-Fix-issue-that-dragimage-in-ImageList-only-.patch)
	@( \
		echo '+    { "comctl32-ImageList", "Sebastian Lackner", "Fix issue that dragimage in ImageList only works for first four elements." },'; \
	) > comctl32-ImageList.ok

# Patchset comctl32-LoadIconMetric
# |
# | Included patches:
# |   *	Implement LoadIconMetric function. [by Michael Müller]
# |
# | This patchset fixes the following Wine bugs:
# |   *	[#35375] Support for LoadIconMetric
# |
# | Modified files:
# |   *	dlls/comctl32/Makefile.in, dlls/comctl32/comctl32.spec, dlls/comctl32/icon.c, dlls/comctl32/tests/misc.c,
# | 	include/commctrl.h
# |
.INTERMEDIATE: comctl32-LoadIconMetric.ok
comctl32-LoadIconMetric.ok:
	$(call APPLY_FILE,comctl32-LoadIconMetric/0001-comctl32-Implement-LoadIconMetric-function.patch)
	$(call APPLY_FILE,comctl32-LoadIconMetric/0002-comctl32-tests-Add-tests-for-LoadIconMetric-function.patch)
	@( \
		echo '+    { "comctl32-LoadIconMetric", "Michael Müller", "Implement LoadIconMetric function." },'; \
	) > comctl32-LoadIconMetric.ok

# Patchset configure-Absolute_RPATH
# |
# | Included patches:
# |   *	Also add the absolute RPATH when linking against libwine. [by Sebastian Lackner]
# |
# | This patchset fixes the following Wine bugs:
# |   *	[#26256] Support for setcap on wine-preloader
# |
# | Modified files:
# |   *	configure.ac
# |
.INTERMEDIATE: configure-Absolute_RPATH.ok
configure-Absolute_RPATH.ok:
	$(call APPLY_FILE,configure-Absolute_RPATH/0001-configure-Also-add-the-absolute-RPATH-when-linking-a.patch)
	@( \
		echo '+    { "configure-Absolute_RPATH", "Sebastian Lackner", "Also add the absolute RPATH when linking against libwine." },'; \
	) > configure-Absolute_RPATH.ok

# Patchset dsound-Fast_Mixer
# |
# | Included patches:
# |   *	Add a linear resampler for use with a large number of dsound mixing buffers. [by Alexander E. Patrakov]
# |
# | This patchset fixes the following Wine bugs:
# |   *	[#30639] Audio stuttering and performance drops in multiple applications
# |
# | Modified files:
# |   *	dlls/dsound/dsound_main.c, dlls/dsound/dsound_private.h, dlls/dsound/mixer.c
# |
.INTERMEDIATE: dsound-Fast_Mixer.ok
dsound-Fast_Mixer.ok:
	$(call APPLY_FILE,dsound-Fast_Mixer/0001-dsound-Add-a-linear-resampler-for-use-with-a-large-n.patch)
	@( \
		echo '+    { "dsound-Fast_Mixer", "Alexander E. Patrakov", "Add a linear resampler for use with a large number of dsound mixing buffers." },'; \
	) > dsound-Fast_Mixer.ok

# Patchset fonts-Missing_Fonts
# |
# | Included patches:
# |   *	Implement missing fonts expected by Silverlight. [rev 2, by Torsten Kurbad / Erich E. Hoover]
# |
# | This patchset fixes the following Wine bugs:
# |   *	[#32323] Implement an Arial replacement font
# |   *	[#13829] Implement a Microsoft Yahei replacement font
# |
# | Modified files:
# |   *	fonts/Makefile.in, fonts/arial.sfd, fonts/arial.ttf, fonts/cour.sfd, fonts/cour.ttf, fonts/msyh.sfd, fonts/msyh.ttf
# |
.INTERMEDIATE: fonts-Missing_Fonts.ok
fonts-Missing_Fonts.ok:
	$(call APPLY_FILE,fonts-Missing_Fonts/0001-fonts-Add-Liberation-Sans-as-an-Arial-replacement.patch)
	$(call APPLY_FILE,fonts-Missing_Fonts/0002-fonts-Add-WenQuanYi-Micro-Hei-as-a-Microsoft-Yahei-r.patch)
	$(call APPLY_FILE,fonts-Missing_Fonts/0003-fonts-Add-Courier-Prime-as-a-Courier-New-replacement.patch)
	@( \
		echo '+    { "fonts-Missing_Fonts", "Torsten Kurbad / Erich E. Hoover", "Implement missing fonts expected by Silverlight. [rev 2]" },'; \
	) > fonts-Missing_Fonts.ok

# Patchset iphlpapi-TCP_Table
# |
# | Included patches:
# |   *	Implement AllocateAndGetTcpExTableFromStack. [by Erich E. Hoover]
# |
# | This patchset fixes the following Wine bugs:
# |   *	[#34372] Support for AllocateAndGetTcpExTableFromStack
# |
# | Modified files:
# |   *	dlls/iphlpapi/iphlpapi.spec, dlls/iphlpapi/ipstats.c, dlls/iphlpapi/ipstats.h
# |
.INTERMEDIATE: iphlpapi-TCP_Table.ok
iphlpapi-TCP_Table.ok:
	$(call APPLY_FILE,iphlpapi-TCP_Table/0001-iphlpapi-Implement-AllocateAndGetTcpExTableFromStack.patch)
	@( \
		echo '+    { "iphlpapi-TCP_Table", "Erich E. Hoover", "Implement AllocateAndGetTcpExTableFromStack." },'; \
	) > iphlpapi-TCP_Table.ok

# Patchset kernel32-GetFinalPathNameByHandle
# |
# | Included patches:
# |   *	Implement GetFinalPathNameByHandle in kernel32. [by Michael Müller]
# |
# | This patchset fixes the following Wine bugs:
# |   *	[#36073] Support for GetFinalPathNameByHandle
# |
# | Modified files:
# |   *	dlls/kernel32/file.c, dlls/kernel32/kernel32.spec, dlls/kernel32/tests/file.c, include/fileapi.h
# |
.INTERMEDIATE: kernel32-GetFinalPathNameByHandle.ok
kernel32-GetFinalPathNameByHandle.ok:
	$(call APPLY_FILE,kernel32-GetFinalPathNameByHandle/0001-kernel32-Implement-GetFinalPathNameByHandle.patch)
	$(call APPLY_FILE,kernel32-GetFinalPathNameByHandle/0002-kernel32-tests-Add-tests-for-GetFinalPathNameByHandl.patch)
	@( \
		echo '+    { "kernel32-GetFinalPathNameByHandle", "Michael Müller", "Implement GetFinalPathNameByHandle in kernel32." },'; \
	) > kernel32-GetFinalPathNameByHandle.ok

# Patchset kernel32-GetSystemTimes
# |
# | Included patches:
# |   *	Implement GetSystemTimes. [by Louis Lenders / Erich E. Hoover]
# |
# | This patchset fixes the following Wine bugs:
# |   *	[#19813] Support for GetSystemTimes
# |
# | Modified files:
# |   *	dlls/kernel32/tests/time.c, dlls/kernel32/time.c
# |
.INTERMEDIATE: kernel32-GetSystemTimes.ok
kernel32-GetSystemTimes.ok:
	$(call APPLY_FILE,kernel32-GetSystemTimes/0001-kernel32-Add-tests-for-GetSystemTimes.patch)
	$(call APPLY_FILE,kernel32-GetSystemTimes/0002-kernel32-Implement-GetSystemTimes.patch)
	@( \
		echo '+    { "kernel32-GetSystemTimes", "Louis Lenders / Erich E. Hoover", "Implement GetSystemTimes." },'; \
	) > kernel32-GetSystemTimes.ok

# Patchset kernel32-GetVolumePathName
# |
# | Included patches:
# |   *	Implement GetVolumePathName. [by Erich E. Hoover]
# |
# | Modified files:
# |   *	dlls/kernel32/tests/volume.c, dlls/kernel32/volume.c
# |
.INTERMEDIATE: kernel32-GetVolumePathName.ok
kernel32-GetVolumePathName.ok:
	$(call APPLY_FILE,kernel32-GetVolumePathName/0001-kernel32-Implement-GetVolumePathName.patch)
	$(call APPLY_FILE,kernel32-GetVolumePathName/0002-kernel32-Convert-GetVolumePathName-tests-into-a-list.patch)
	$(call APPLY_FILE,kernel32-GetVolumePathName/0003-kernel32-Add-a-bunch-more-GetVolumePathName-tests.patch)
	$(call APPLY_FILE,kernel32-GetVolumePathName/0004-kernel32-tests-Add-a-lot-of-picky-GetVolumePathName-.patch)
	@( \
		echo '+    { "kernel32-GetVolumePathName", "Erich E. Hoover", "Implement GetVolumePathName." },'; \
	) > kernel32-GetVolumePathName.ok

# Patchset kernel32-Named_Pipe
# |
# | Included patches:
# |   *	Fix for ConnectNamedPort return value in overlapped mode. [by Dan Kegel]
# |
# | This patchset fixes the following Wine bugs:
# |   *	[#16550] Fix for ConnectNamedPort return value in overlapped mode
# |
# | Modified files:
# |   *	dlls/kernel32/sync.c
# |
.INTERMEDIATE: kernel32-Named_Pipe.ok
kernel32-Named_Pipe.ok:
	$(call APPLY_FILE,kernel32-Named_Pipe/0001-kernel32-ConnectNamedPort-should-return-FALSE-and-se.patch)
	@( \
		echo '+    { "kernel32-Named_Pipe", "Dan Kegel", "Fix for ConnectNamedPort return value in overlapped mode." },'; \
	) > kernel32-Named_Pipe.ok

# Patchset kernel32-SystemFileCacheSize
# |
# | Included patches:
# |   *	Add stub for [Get|Set]SystemFileCacheSize. [by Austin English]
# |
# | This patchset fixes the following Wine bugs:
# |   *	[#35886] Support for [Get|Set]SystemFileCacheSize
# |
# | Modified files:
# |   *	dlls/api-ms-win-core-memory-l1-1-1/api-ms-win-core-memory-l1-1-1.spec, dlls/kernel32/heap.c, dlls/kernel32/kernel32.spec
# |
.INTERMEDIATE: kernel32-SystemFileCacheSize.ok
kernel32-SystemFileCacheSize.ok:
	$(call APPLY_FILE,kernel32-SystemFileCacheSize/0001-kernel32-Add-stub-for-Get-Set-SystemFileCacheSize.patch)
	@( \
		echo '+    { "kernel32-SystemFileCacheSize", "Austin English", "Add stub for [Get|Set]SystemFileCacheSize." },'; \
	) > kernel32-SystemFileCacheSize.ok

# Patchset libs-Unicode_Collation
# |
# | Included patches:
# |   *	Fix comparison of punctuation characters. [by Dmitry Timoshkov]
# |
# | This patchset fixes the following Wine bugs:
# |   *	[#10767] Fix comparison of punctuation characters in lstrcmp
# |
# | Modified files:
# |   *	dlls/kernel32/tests/locale.c, libs/wine/collation.c
# |
.INTERMEDIATE: libs-Unicode_Collation.ok
libs-Unicode_Collation.ok:
	$(call APPLY_FILE,libs-Unicode_Collation/0001-libs-Fix-most-problems-with-CompareString.patch)
	@( \
		echo '+    { "libs-Unicode_Collation", "Dmitry Timoshkov", "Fix comparison of punctuation characters." },'; \
	) > libs-Unicode_Collation.ok

# Patchset loader-Cmdline_Diagnostics
# |
# | Included patches:
# |   *	Add commandline option --patches to show the patch list. [by Sebastian Lackner]
# |   *	Add commandline option --check-libs to test if shared libraries are installed. [by Michael Müller]
# |
# | Modified files:
# |   *	dlls/ntdll/misc.c, dlls/ntdll/ntdll.spec, include/wine/library.h, libs/wine/config.c, libs/wine/loader.c,
# | 	libs/wine/wine.def, libs/wine/wine.map, loader/main.c
# |
.INTERMEDIATE: loader-Cmdline_Diagnostics.ok
loader-Cmdline_Diagnostics.ok:
	$(call APPLY_FILE,loader-Cmdline_Diagnostics/0001-loader-Add-commandline-option-patches-to-show-the-pa.patch)
	$(call APPLY_FILE,loader-Cmdline_Diagnostics/0002-loader-Add-commandline-option-check-libs.patch)
	@( \
		echo '+    { "loader-Cmdline_Diagnostics", "Sebastian Lackner", "Add commandline option --patches to show the patch list." },'; \
		echo '+    { "loader-Cmdline_Diagnostics", "Michael Müller", "Add commandline option --check-libs to test if shared libraries are installed." },'; \
	) > loader-Cmdline_Diagnostics.ok

# Patchset ntdll-DOS_Attributes
# |
# | Included patches:
# |   *	Implement DOS hidden/system file attributes [by Erich E. Hoover]
# |
# | This patchset fixes the following Wine bugs:
# |   *	[#9158] Support for DOS hidden/system file attributes
# |
# | Modified files:
# |   *	configure.ac, dlls/ntdll/directory.c, dlls/ntdll/file.c, dlls/ntdll/ntdll_misc.h, dlls/ntdll/tests/directory.c,
# | 	dlls/ntdll/tests/file.c, include/wine/port.h, libs/port/Makefile.in, libs/port/xattr.c
# |
.INTERMEDIATE: ntdll-DOS_Attributes.ok
ntdll-DOS_Attributes.ok: ntdll-Fix_Free.ok
	$(call APPLY_FILE,ntdll-DOS_Attributes/0001-ntdll-Unify-retrieving-the-attributes-of-a-file.patch)
	$(call APPLY_FILE,ntdll-DOS_Attributes/0002-ntdll-Implement-retrieving-DOS-attributes-in-NtQuery.patch)
	$(call APPLY_FILE,ntdll-DOS_Attributes/0003-ntdll-Implement-retrieving-DOS-attributes-in-NtQuery.patch)
	$(call APPLY_FILE,ntdll-DOS_Attributes/0004-ntdll-Implement-storing-DOS-attributes-in-NtSetInfor.patch)
	$(call APPLY_FILE,ntdll-DOS_Attributes/0005-ntdll-Implement-storing-DOS-attributes-in-NtCreateFi.patch)
	$(call APPLY_FILE,ntdll-DOS_Attributes/0006-ntdll-Perform-the-Unix-style-hidden-file-check-withi.patch)
	@( \
		echo '+    { "ntdll-DOS_Attributes", "Erich E. Hoover", "Implement DOS hidden/system file attributes" },'; \
	) > ntdll-DOS_Attributes.ok

# Patchset ntdll-Dynamic_DST
# |
# | Included patches:
# |   *	Add support for Dynamic DST (daylight saving time) information in registry. [by Michael Müller]
# |   *	Add Dynamic DST exceptions for Israel Standard Time. [by Sebastian Lackner]
# |
# | This patchset fixes the following Wine bugs:
# |   *	[#36374] Add Dynamic DST exceptions for Israel Standard Time
# |
# | Modified files:
# |   *	dlls/ntdll/time.c, loader/wine.inf.in
# |
.INTERMEDIATE: ntdll-Dynamic_DST.ok
ntdll-Dynamic_DST.ok:
	$(call APPLY_FILE,ntdll-Dynamic_DST/0001-ntdll-Add-support-for-Dynamic-DST-daylight-saving-ti.patch)
	$(call APPLY_FILE,ntdll-Dynamic_DST/0002-wine.inf-Add-Dynamic-DST-exceptions-for-Israel-Stand.patch)
	@( \
		echo '+    { "ntdll-Dynamic_DST", "Michael Müller", "Add support for Dynamic DST (daylight saving time) information in registry." },'; \
		echo '+    { "ntdll-Dynamic_DST", "Sebastian Lackner", "Add Dynamic DST exceptions for Israel Standard Time." },'; \
	) > ntdll-Dynamic_DST.ok

# Patchset ntdll-FD_Cache
# |
# | Included patches:
# |   *	Use lockfree implementation for get_cached_fd. [rev 4, by Sebastian Lackner]
# |
# | Modified files:
# |   *	dlls/ntdll/server.c
# |
.INTERMEDIATE: ntdll-FD_Cache.ok
ntdll-FD_Cache.ok:
	$(call APPLY_FILE,ntdll-FD_Cache/0001-ntdll-Use-lockfree-implementation-for-get_cached_fd.patch)
	@( \
		echo '+    { "ntdll-FD_Cache", "Sebastian Lackner", "Use lockfree implementation for get_cached_fd. [rev 4]" },'; \
	) > ntdll-FD_Cache.ok

# Patchset ntdll-FileDispositionInformation
# |
# | Included patches:
# |   *	Add support for setting file disposition information. [by Dmitry Timoshkov / Erich E. Hoover]
# |
# | This patchset fixes the following Wine bugs:
# |   *	[#30397] Support for NtSetInformationFile class FileDispositionInformation
# |
# | Modified files:
# |   *	dlls/ntdll/file.c, dlls/ntdll/tests/file.c, server/fd.c, server/file.c, server/file.h, server/protocol.def
# |
.INTERMEDIATE: ntdll-FileDispositionInformation.ok
ntdll-FileDispositionInformation.ok:
	$(call APPLY_FILE,ntdll-FileDispositionInformation/0001-server-Keep-a-pointer-to-parent-s-fd-unix_name-in-th.patch)
	$(call APPLY_FILE,ntdll-FileDispositionInformation/0002-server-Add-support-for-setting-file-disposition-info.patch)
	$(call APPLY_FILE,ntdll-FileDispositionInformation/0003-server-Do-not-permit-FileDispositionInformation-to-d.patch)
	@( \
		echo '+    { "ntdll-FileDispositionInformation", "Dmitry Timoshkov / Erich E. Hoover", "Add support for setting file disposition information." },'; \
	) > ntdll-FileDispositionInformation.ok

# Patchset ntdll-Fix_Alignment
# |
# | Included patches:
# |   *	Move NtProtectVirtualMemory and NtCreateSection to separate pages in ntdll on x86. [by Michael Müller]
# |
# | This patchset fixes the following Wine bugs:
# |   *	[#33162] Ensure NtProtectVirtualMemory and NtCreateSection are on separate pages
# |
# | Modified files:
# |   *	dlls/ntdll/virtual.c
# |
.INTERMEDIATE: ntdll-Fix_Alignment.ok
ntdll-Fix_Alignment.ok:
	$(call APPLY_FILE,ntdll-Fix_Alignment/0001-ntdll-Move-NtProtectVirtualMemory-and-NtCreateSectio.patch)
	@( \
		echo '+    { "ntdll-Fix_Alignment", "Michael Müller", "Move NtProtectVirtualMemory and NtCreateSection to separate pages in ntdll on x86." },'; \
	) > ntdll-Fix_Alignment.ok

# Patchset ntdll-Fix_Free
# |
# | Included patches:
# |   *	Fix unintentional leaks with ntdll internals [rev 2, by Erich E. Hoover]
# |
# | Modified files:
# |   *	dlls/kernel32/path.c, dlls/kernel32/volume.c, dlls/ntdll/directory.c, dlls/ntdll/file.c, dlls/ntdll/loader.c
# |
.INTERMEDIATE: ntdll-Fix_Free.ok
ntdll-Fix_Free.ok:
	$(call APPLY_FILE,ntdll-Fix_Free/0001-ntdll-Make-nt_to_unix_file_name_attr-return-always-s.patch)
	$(call APPLY_FILE,ntdll-Fix_Free/0002-ntdll-Make-wine_nt_to_unix_file_name-return-always-s.patch)
	$(call APPLY_FILE,ntdll-Fix_Free/0003-ntdll-Make-file_id_to_unix_file_name-return-always-s.patch)
	$(call APPLY_FILE,ntdll-Fix_Free/0004-ntdll-Fix-leak-on-STATUS_NO_SUCH_FILE-in-NtQueryFull.patch)
	$(call APPLY_FILE,ntdll-Fix_Free/0005-ntdll-Fix-leak-on-STATUS_NO_SUCH_FILE-in-NtQueryAttr.patch)
	$(call APPLY_FILE,ntdll-Fix_Free/0006-ntdll-Fix-unlikely-leak-on-STATUS_NO_SUCH_FILE-in-in.patch)
	$(call APPLY_FILE,ntdll-Fix_Free/0007-ntdll-Fix-leak-on-STATUS_NO_SUCH_FILE-in-load_builti.patch)
	$(call APPLY_FILE,ntdll-Fix_Free/0008-ntdll-Fix-leak-on-STATUS_NO_SUCH_FILE-for-certain-di.patch)
	$(call APPLY_FILE,ntdll-Fix_Free/0009-kernel32-Fix-leak-on-STATUS_NO_SUCH_FILE-in-RemoveDi.patch)
	$(call APPLY_FILE,ntdll-Fix_Free/0010-kernel32-Fix-leak-on-STATUS_NO_SUCH_FILE-in-QueryDos.patch)
	$(call APPLY_FILE,ntdll-Fix_Free/0011-kernel32-Fix-leaking-directory-handle-in-RemoveDirec.patch)
	@( \
		echo '+    { "ntdll-Fix_Free", "Erich E. Hoover", "Fix unintentional leaks with ntdll internals [rev 2]" },'; \
	) > ntdll-Fix_Free.ok

# Patchset ntdll-Heap_FreeLists
# |
# | Included patches:
# |   *	Improve heap allocation performance by using more fine-grained free lists. [by Steaphan Greene]
# |
# | Modified files:
# |   *	dlls/ntdll/heap.c
# |
.INTERMEDIATE: ntdll-Heap_FreeLists.ok
ntdll-Heap_FreeLists.ok:
	$(call APPLY_FILE,ntdll-Heap_FreeLists/0001-ntdll-Improve-heap-allocation-performance-by-using-m.patch)
	@( \
		echo '+    { "ntdll-Heap_FreeLists", "Steaphan Greene", "Improve heap allocation performance by using more fine-grained free lists." },'; \
	) > ntdll-Heap_FreeLists.ok

# Patchset ntdll-Junction_Points
# |
# | Included patches:
# |   *	Support for junction points/reparse points. [by Erich E. Hoover]
# |
# | This patchset fixes the following Wine bugs:
# |   *	[#12401] Support for Junction Points
# |
# | Modified files:
# |   *	dlls/kernel32/path.c, dlls/kernel32/volume.c, dlls/ntdll/file.c, dlls/ntdll/tests/file.c, include/ntifs.h
# |
.INTERMEDIATE: ntdll-Junction_Points.ok
ntdll-Junction_Points.ok: ntdll-Fix_Free.ok
	$(call APPLY_FILE,ntdll-Junction_Points/0001-ntdll-Add-support-for-junction-point-creation.patch)
	$(call APPLY_FILE,ntdll-Junction_Points/0002-ntdll-Add-support-for-reading-junction-points.patch)
	$(call APPLY_FILE,ntdll-Junction_Points/0003-ntdll-Add-support-for-deleting-junction-points.patch)
	$(call APPLY_FILE,ntdll-Junction_Points/0004-ntdll-Add-a-test-for-junction-point-advertisement.patch)
	$(call APPLY_FILE,ntdll-Junction_Points/0005-kernel32-ntdll-Add-support-for-deleting-junction-poi.patch)
	$(call APPLY_FILE,ntdll-Junction_Points/0006-kernel32-Advertise-junction-point-support.patch)
	$(call APPLY_FILE,ntdll-Junction_Points/0007-ntdll-tests-Add-test-for-deleting-junction-point-tar.patch)
	@( \
		echo '+    { "ntdll-Junction_Points", "Erich E. Hoover", "Support for junction points/reparse points." },'; \
	) > ntdll-Junction_Points.ok

# Patchset ntdll-Pipe_SpecialCharacters
# |
# | Included patches:
# |   *	Allow special characters in pipe names. [by Michael Müller]
# |
# | This patchset fixes the following Wine bugs:
# |   *	[#28995] Allow special characters in pipe names
# |
# | Modified files:
# |   *	dlls/kernel32/tests/pipe.c, dlls/ntdll/directory.c
# |
.INTERMEDIATE: ntdll-Pipe_SpecialCharacters.ok
ntdll-Pipe_SpecialCharacters.ok:
	$(call APPLY_FILE,ntdll-Pipe_SpecialCharacters/0001-ntdll-Allow-special-characters-in-pipe-names.patch)
	@( \
		echo '+    { "ntdll-Pipe_SpecialCharacters", "Michael Müller", "Allow special characters in pipe names." },'; \
	) > ntdll-Pipe_SpecialCharacters.ok

# Patchset ntdll-Save_Regs_Entrypoint
# |
# | Included patches:
# |   *	Use assembly wrapper to run TLS callbacks and save EBP. [by Sebastian Lackner]
# |
# | This patchset fixes the following Wine bugs:
# |   *	[#21917] Use assembly wrapper to run TLS callbacks
# |
# | Modified files:
# |   *	dlls/ntdll/loader.c
# |
.INTERMEDIATE: ntdll-Save_Regs_Entrypoint.ok
ntdll-Save_Regs_Entrypoint.ok:
	$(call APPLY_FILE,ntdll-Save_Regs_Entrypoint/0001-ntdll-Save-more-registers-in-call_dll_entry_point-on.patch)
	$(call APPLY_FILE,ntdll-Save_Regs_Entrypoint/0002-ntdll-Use-call_dll_entry_point-to-execute-TLS-callba.patch)
	@( \
		echo '+    { "ntdll-Save_Regs_Entrypoint", "Sebastian Lackner", "Use assembly wrapper to run TLS callbacks and save EBP." },'; \
	) > ntdll-Save_Regs_Entrypoint.ok

# Patchset ntdll-loader_EntryPoint
# |
# | Included patches:
# |   *	Set ldr.EntryPoint for main executable. [by Sebastian Lackner]
# |
# | This patchset fixes the following Wine bugs:
# |   *	[#33034] Set ldr.EntryPoint for main executable
# |
# | Modified files:
# |   *	dlls/ntdll/loader.c
# |
.INTERMEDIATE: ntdll-loader_EntryPoint.ok
ntdll-loader_EntryPoint.ok:
	$(call APPLY_FILE,ntdll-loader_EntryPoint/0001-ntdll-Set-ldr.EntryPoint-for-main-executable.patch)
	@( \
		echo '+    { "ntdll-loader_EntryPoint", "Sebastian Lackner", "Set ldr.EntryPoint for main executable." },'; \
	) > ntdll-loader_EntryPoint.ok

# Patchset quartz-MediaSeeking_Positions
# |
# | Included patches:
# |   *	Return correct IMediaSeeking stream positions in quartz. [by Erich E. Hoover]
# |
# | This patchset fixes the following Wine bugs:
# |   *	[#23174] Return correct IMediaSeeking stream positions in quartz
# |
# | Modified files:
# |   *	dlls/quartz/filtergraph.c
# |
.INTERMEDIATE: quartz-MediaSeeking_Positions.ok
quartz-MediaSeeking_Positions.ok:
	$(call APPLY_FILE,quartz-MediaSeeking_Positions/0001-quartz-Include-the-stream-position-in-addition-to-th.patch)
	$(call APPLY_FILE,quartz-MediaSeeking_Positions/0002-quartz-Implement-MediaSeeking_GetCurrentPosition-on-.patch)
	$(call APPLY_FILE,quartz-MediaSeeking_Positions/0003-quartz-Implement-MediaSeeking_GetStopPosition-on-top.patch)
	$(call APPLY_FILE,quartz-MediaSeeking_Positions/0004-quartz-Remove-unused-cache-of-MediaSeeking-stop-posi.patch)
	@( \
		echo '+    { "quartz-MediaSeeking_Positions", "Erich E. Hoover", "Return correct IMediaSeeking stream positions in quartz." },'; \
	) > quartz-MediaSeeking_Positions.ok

# Patchset riched20-IText_Interface
# |
# | Included patches:
# |   *	Implement Stubs for ITextRange interface. [rev 3, by Jactry Zeng]
# |   *	Implement Stubs for ITextFont interface. [rev 2, by Jactry Zeng]
# |   *	Implement Stubs for ITextPara interface. [rev 2, by Jactry Zeng]
# |   *	Implement ITextRange/Selection::{GetChar,GetStart,GetEnd,GetDuplicate,Collapse,SetStart,SetEnd}. [by Jactry Zeng]
# |   *	Implement ITextRange/Selection::{GetText,SetRange,IsEqual,GetStoryLength}. [by Jactry Zeng]
# |
# | This patchset fixes the following Wine bugs:
# |   *	[#12458] Support for ITextDocument_fnRange function
# |   *	[#18303] Support for ITextRange, ITextFont and ITextPara
# |
# | Modified files:
# |   *	dlls/riched20/richole.c, dlls/riched20/run.c, dlls/riched20/tests/richole.c
# |
.INTERMEDIATE: riched20-IText_Interface.ok
riched20-IText_Interface.ok:
	$(call APPLY_FILE,riched20-IText_Interface/0001-riched20-Stub-for-ITextRange-interface-and-implement.patch)
	$(call APPLY_FILE,riched20-IText_Interface/0002-riched20-Implement-ITextSelection-GetChar-and-ITextR.patch)
	$(call APPLY_FILE,riched20-IText_Interface/0003-riched20-Implement-IText-Selection-Range-Get-Start-E.patch)
	$(call APPLY_FILE,riched20-IText_Interface/0004-riched20-Implement-ITextRange-GetDuplicate.patch)
	$(call APPLY_FILE,riched20-IText_Interface/0005-riched20-Implement-ITextRange-Collapse-and-ITextSele.patch)
	$(call APPLY_FILE,riched20-IText_Interface/0006-riched20-Implement-IText-Selection-Range-Set-Start-E.patch)
	$(call APPLY_FILE,riched20-IText_Interface/0007-riched20-Stub-for-ITextFont-interface-and-implement-.patch)
	$(call APPLY_FILE,riched20-IText_Interface/0008-riched20-Stub-for-ITextPara-interface-and-implement-.patch)
	$(call APPLY_FILE,riched20-IText_Interface/0009-riched20-Fix-ME_RunOfsFromCharOfs-when-nCharOfs-strl.patch)
	$(call APPLY_FILE,riched20-IText_Interface/0010-riched20-Implement-ITextRange-GetText.patch)
	$(call APPLY_FILE,riched20-IText_Interface/0011-riched20-Implement-ITextRange-SetRange.patch)
	$(call APPLY_FILE,riched20-IText_Interface/0012-riched20-Implement-ITextRange-IsEqual.patch)
	$(call APPLY_FILE,riched20-IText_Interface/0013-riched20-Implement-ITextRange-GetStoryLength.patch)
	$(call APPLY_FILE,riched20-IText_Interface/0014-riched20-Implement-ITextSelection-GetStoryLength.patch)
	@( \
		echo '+    { "riched20-IText_Interface", "Jactry Zeng", "Implement Stubs for ITextRange interface. [rev 3]" },'; \
		echo '+    { "riched20-IText_Interface", "Jactry Zeng", "Implement Stubs for ITextFont interface. [rev 2]" },'; \
		echo '+    { "riched20-IText_Interface", "Jactry Zeng", "Implement Stubs for ITextPara interface. [rev 2]" },'; \
		echo '+    { "riched20-IText_Interface", "Jactry Zeng", "Implement ITextRange/Selection::{GetChar,GetStart,GetEnd,GetDuplicate,Collapse,SetStart,SetEnd}." },'; \
		echo '+    { "riched20-IText_Interface", "Jactry Zeng", "Implement ITextRange/Selection::{GetText,SetRange,IsEqual,GetStoryLength}." },'; \
	) > riched20-IText_Interface.ok

# Patchset server-ACL_Compat
# |
# | Included patches:
# |   *	Compatibility patch for old method of storing extended file system attributes. [rev 6, by Erich E. Hoover]
# |
# | Modified files:
# |   *	server/file.c
# |
.INTERMEDIATE: server-ACL_Compat.ok
server-ACL_Compat.ok: server-Inherited_ACLs.ok
	$(call APPLY_FILE,server-ACL_Compat/0001-server-Add-compatibility-code-for-handling-the-old-m.patch)
	@( \
		echo '+    { "server-ACL_Compat", "Erich E. Hoover", "Compatibility patch for old method of storing extended file system attributes. [rev 6]" },'; \
	) > server-ACL_Compat.ok

# Patchset server-Address_Change_Notification
# |
# | Included patches:
# |   *	Implement SIO_ADDRESS_LIST_CHANGE. [rev 2, by Erich E. Hoover]
# |
# | This patchset fixes the following Wine bugs:
# |   *	[#32328] Support for interface change notifications
# |
# | Modified files:
# |   *	Makefile.in, dlls/ws2_32/tests/sock.c, server/event.c, server/named_pipe.c, server/object.h, server/sock.c
# |
.INTERMEDIATE: server-Address_Change_Notification.ok
server-Address_Change_Notification.ok:
	$(call APPLY_FILE,server-Address_Change_Notification/0001-server-Implement-socket-specific-ioctl-routine.patch)
	$(call APPLY_FILE,server-Address_Change_Notification/0002-server-Add-socket-side-support-for-the-interface-cha.patch)
	$(call APPLY_FILE,server-Address_Change_Notification/0003-server-Add-blocked-support-for-SIO_ADDRESS_LIST_CHAN.patch)
	$(call APPLY_FILE,server-Address_Change_Notification/0004-server-Implement-the-interface-change-notification-o.patch)
	$(call APPLY_FILE,server-Address_Change_Notification/0005-ws2_32-Add-an-interactive-test-for-interface-change-.patch)
	@( \
		echo '+    { "server-Address_Change_Notification", "Erich E. Hoover", "Implement SIO_ADDRESS_LIST_CHANGE. [rev 2]" },'; \
	) > server-Address_Change_Notification.ok

# Patchset server-CreateProcess_ACLs
# |
# | Included patches:
# |   *	Implement passing ACLs to CreateProcess. [rev 2, by Joris van der Wel / Sebastian Lackner]
# |
# | This patchset fixes the following Wine bugs:
# |   *	[#22006] Support for process ACLs
# |
# | Modified files:
# |   *	dlls/advapi32/tests/security.c, dlls/kernel32/process.c, server/object.c, server/object.h, server/process.c,
# | 	server/protocol.def
# |
.INTERMEDIATE: server-CreateProcess_ACLs.ok
server-CreateProcess_ACLs.ok:
	$(call APPLY_FILE,server-CreateProcess_ACLs/0001-server-A-new-function-set_sd_defaults_from_token-tha.patch)
	$(call APPLY_FILE,server-CreateProcess_ACLs/0002-server-Support-sending-thread-and-process-security-d.patch)
	$(call APPLY_FILE,server-CreateProcess_ACLs/0003-kernel32-Implement-passing-a-process-security-descri.patch)
	$(call APPLY_FILE,server-CreateProcess_ACLs/0004-advapi32-tests-Add-additional-tests-for-passing-a-th.patch)
	@( \
		echo '+    { "server-CreateProcess_ACLs", "Joris van der Wel / Sebastian Lackner", "Implement passing ACLs to CreateProcess. [rev 2]" },'; \
	) > server-CreateProcess_ACLs.ok

# Patchset server-Inherited_ACLs
# |
# | Included patches:
# |   *	Add support for inherited security attributes. [rev 7, by Erich E. Hoover]
# |
# | This patchset fixes the following Wine bugs:
# |   *	[#34406] Support for inherited file ACLs
# |
# | Modified files:
# |   *	dlls/advapi32/tests/security.c, include/winnt.h, server/fd.c, server/file.c, server/file.h
# |
.INTERMEDIATE: server-Inherited_ACLs.ok
server-Inherited_ACLs.ok: server-Stored_ACLs.ok
	$(call APPLY_FILE,server-Inherited_ACLs/0001-server-Inherit-security-attributes-from-parent-direc.patch)
	$(call APPLY_FILE,server-Inherited_ACLs/0002-server-Inherit-security-attributes-from-parent-direc.patch)
	@( \
		echo '+    { "server-Inherited_ACLs", "Erich E. Hoover", "Add support for inherited security attributes. [rev 7]" },'; \
	) > server-Inherited_ACLs.ok

# Patchset server-Misc_ACL
# |
# | Included patches:
# |   *	Add default security descriptor ownership and DACLs for processes. [by Erich E. Hoover]
# |
# | This patchset fixes the following Wine bugs:
# |   *	[#15980] GetSecurityInfo returns NULL DACL for process object
# |
# | Modified files:
# |   *	dlls/advapi32/tests/security.c, server/process.c, server/security.h, server/token.c
# |
.INTERMEDIATE: server-Misc_ACL.ok
server-Misc_ACL.ok:
	$(call APPLY_FILE,server-Misc_ACL/0001-server-Add-default-security-descriptor-ownership-for.patch)
	$(call APPLY_FILE,server-Misc_ACL/0002-server-Add-default-security-descriptor-DACL-for-proc.patch)
	@( \
		echo '+    { "server-Misc_ACL", "Erich E. Hoover", "Add default security descriptor ownership and DACLs for processes." },'; \
	) > server-Misc_ACL.ok

# Patchset server-OpenProcess
# |
# | Included patches:
# |   *	Return error when opening a terminating process. [rev 3, by Michael Müller]
# |
# | This patchset fixes the following Wine bugs:
# |   *	[#37087] Return an error when trying to open a terminated process
# |
# | Modified files:
# |   *	server/process.c, server/process.h
# |
.INTERMEDIATE: server-OpenProcess.ok
server-OpenProcess.ok:
	$(call APPLY_FILE,server-OpenProcess/0001-server-Return-error-when-opening-a-terminating-proce.patch)
	@( \
		echo '+    { "server-OpenProcess", "Michael Müller", "Return error when opening a terminating process. [rev 3]" },'; \
	) > server-OpenProcess.ok

# Patchset server-Stored_ACLs
# |
# | Included patches:
# |   *	Store and return security attributes with extended file attributes. [rev 7, by Erich E. Hoover]
# |
# | This patchset fixes the following Wine bugs:
# |   *	[#31858] Support for stored file ACLs
# |
# | Modified files:
# |   *	dlls/advapi32/tests/security.c, include/wine/port.h, server/change.c, server/file.c, server/file.h
# |
.INTERMEDIATE: server-Stored_ACLs.ok
server-Stored_ACLs.ok: ntdll-DOS_Attributes.ok
	$(call APPLY_FILE,server-Stored_ACLs/0001-server-Unify-the-storage-of-security-attributes-for-.patch)
	$(call APPLY_FILE,server-Stored_ACLs/0002-server-Unify-the-retrieval-of-security-attributes-fo.patch)
	$(call APPLY_FILE,server-Stored_ACLs/0003-server-Store-file-security-attributes-with-extended-.patch)
	$(call APPLY_FILE,server-Stored_ACLs/0004-server-Store-user-and-group-inside-stored-extended-f.patch)
	$(call APPLY_FILE,server-Stored_ACLs/0005-server-Retrieve-file-security-attributes-with-extend.patch)
	$(call APPLY_FILE,server-Stored_ACLs/0006-server-Convert-return-of-file-security-masks-with-ge.patch)
	@( \
		echo '+    { "server-Stored_ACLs", "Erich E. Hoover", "Store and return security attributes with extended file attributes. [rev 7]" },'; \
	) > server-Stored_ACLs.ok

# Patchset shell32-Default_Folder_ACLs
# |
# | Included patches:
# |   *	Generate default ACLs for user shell folders. [rev 6, by Erich E. Hoover]
# |
# | Modified files:
# |   *	dlls/shell32/shellpath.c
# |
.INTERMEDIATE: shell32-Default_Folder_ACLs.ok
shell32-Default_Folder_ACLs.ok:
	$(call APPLY_FILE,shell32-Default_Folder_ACLs/0001-shell32-Set-the-default-security-attributes-for-user.patch)
	@( \
		echo '+    { "shell32-Default_Folder_ACLs", "Erich E. Hoover", "Generate default ACLs for user shell folders. [rev 6]" },'; \
	) > shell32-Default_Folder_ACLs.ok

# Patchset shell32-Default_Path
# |
# | Included patches:
# |   *	Implement KF_FLAG_DEFAULT_PATH flag for SHGetKnownFolderPath. [by Sebastian Lackner]
# |
# | This patchset fixes the following Wine bugs:
# |   *	[#30385] Support for KF_FLAG_DEFAULT_PATH in SHGetKnownFolderPath
# |
# | Modified files:
# |   *	dlls/shell32/shellpath.c, dlls/shell32/tests/shellpath.c
# |
.INTERMEDIATE: shell32-Default_Path.ok
shell32-Default_Path.ok:
	$(call APPLY_FILE,shell32-Default_Path/0001-shell32-Implement-KF_FLAG_DEFAULT_PATH-flag-for-SHGe.patch)
	@( \
		echo '+    { "shell32-Default_Path", "Sebastian Lackner", "Implement KF_FLAG_DEFAULT_PATH flag for SHGetKnownFolderPath." },'; \
	) > shell32-Default_Path.ok

# Patchset shell32-Icons
# |
# | Included patches:
# |   *	Add support for extra large and jumbo icon lists in shell32. [by Michael Müller]
# |
# | This patchset fixes the following Wine bugs:
# |   *	[#24721] Support for extra large and jumbo icon lists in shell32
# |
# | Modified files:
# |   *	dlls/shell32/iconcache.c, dlls/shell32/shell32_main.h, dlls/shell32/shellord.c
# |
.INTERMEDIATE: shell32-Icons.ok
shell32-Icons.ok:
	$(call APPLY_FILE,shell32-Icons/0001-shell32-Add-support-for-extra-large-and-jumbo-icon-l.patch)
	@( \
		echo '+    { "shell32-Icons", "Michael Müller", "Add support for extra large and jumbo icon lists in shell32." },'; \
	) > shell32-Icons.ok

# Patchset shell32-RunDLL_CallEntry16
# |
# | Included patches:
# |   *	Manually relay RunDLL_CallEntry16 to make Tages Protection v5 happy. [by Michael Müller]
# |
# | This patchset fixes the following Wine bugs:
# |   *	[#23033] Use manual relay for RunDLL_CallEntry16 in shell32
# |
# | Modified files:
# |   *	dlls/shell32/control.c, dlls/shell32/shell32.spec
# |
.INTERMEDIATE: shell32-RunDLL_CallEntry16.ok
shell32-RunDLL_CallEntry16.ok:
	$(call APPLY_FILE,shell32-RunDLL_CallEntry16/0001-shell32-Use-manual-redirection-for-RunDLL_CallEntry1.patch)
	@( \
		echo '+    { "shell32-RunDLL_CallEntry16", "Michael Müller", "Manually relay RunDLL_CallEntry16 to make Tages Protection v5 happy." },'; \
	) > shell32-RunDLL_CallEntry16.ok

# Patchset shell32-SHCreateSessionKey
# |
# | Included patches:
# |   *	shell32: Implement SHCreateSessionKey. [by Dmitry Timoshkov]
# |
# | This patchset fixes the following Wine bugs:
# |   *	[#35630] Support for SHCreateSessionKey
# |
# | Modified files:
# |   *	dlls/shell32/shell32.spec, dlls/shell32/shellreg.c
# |
.INTERMEDIATE: shell32-SHCreateSessionKey.ok
shell32-SHCreateSessionKey.ok:
	$(call APPLY_FILE,shell32-SHCreateSessionKey/0001-shell32-Implement-SHCreateSessionKey.patch)
	@( \
		echo '+    { "shell32-SHCreateSessionKey", "Dmitry Timoshkov", "shell32: Implement SHCreateSessionKey." },'; \
	) > shell32-SHCreateSessionKey.ok

# Patchset shlwapi-UrlCombine
# |
# | Included patches:
# |   *	Workaround for broken implementation of shlwapi url functions. [by Sebastian Lackner]
# |
# | Modified files:
# |   *	dlls/shlwapi/tests/url.c, dlls/shlwapi/url.c
# |
.INTERMEDIATE: shlwapi-UrlCombine.ok
shlwapi-UrlCombine.ok:
	$(call APPLY_FILE,shlwapi-UrlCombine/0001-shlwapi-tests-Add-additional-tests-for-UrlCombine-and-.patch)
	$(call APPLY_FILE,shlwapi-UrlCombine/0002-shlwapi-UrlCombineW-workaround-for-relative-paths.patch)
	@( \
		echo '+    { "shlwapi-UrlCombine", "Sebastian Lackner", "Workaround for broken implementation of shlwapi url functions." },'; \
	) > shlwapi-UrlCombine.ok

# Patchset user32-GetSystemMetrics
# |
# | Included patches:
# |   *	Allow changing the tablet / media center status via wine registry key. [by Michael Müller]
# |
# | This patchset fixes the following Wine bugs:
# |   *	[#18732] Make it possible to change media center / tablet pc status
# |
# | Modified files:
# |   *	dlls/user32/sysparams.c
# |
.INTERMEDIATE: user32-GetSystemMetrics.ok
user32-GetSystemMetrics.ok:
	$(call APPLY_FILE,user32-GetSystemMetrics/0001-user32-Allow-changing-the-tablet-media-center-status.patch)
	@( \
		echo '+    { "user32-GetSystemMetrics", "Michael Müller", "Allow changing the tablet / media center status via wine registry key." },'; \
	) > user32-GetSystemMetrics.ok

# Patchset user32-GetTipText
# |
# | Included patches:
# |   *	Handle TOOLTIPS_GetTipText edge cases. [by Erich E. Hoover]
# |
# | This patchset fixes the following Wine bugs:
# |   *	[#30648] Support for TOOLTIPS_GetTipText edge cases
# |
# | Modified files:
# |   *	dlls/comctl32/tooltips.c
# |
.INTERMEDIATE: user32-GetTipText.ok
user32-GetTipText.ok:
	$(call APPLY_FILE,user32-GetTipText/0001-Fix-TOOLTIPS_GetTipText-when-a-resource-cannot-be-fo.patch)
	$(call APPLY_FILE,user32-GetTipText/0002-Fix-TOOLTIPS_GetTipText-when-a-NULL-instance-is-used.patch)
	@( \
		echo '+    { "user32-GetTipText", "Erich E. Hoover", "Handle TOOLTIPS_GetTipText edge cases." },'; \
	) > user32-GetTipText.ok

# Patchset user32-WndProc
# |
# | Included patches:
# |   *	Workaround for programs leaking wndproc splots. [by Sebastian Lackner]
# |
# | This patchset fixes the following Wine bugs:
# |   *	[#32451] Fix for programs leaking wndproc slots
# |
# | Modified files:
# |   *	dlls/user32/winproc.c
# |
.INTERMEDIATE: user32-WndProc.ok
user32-WndProc.ok:
	$(call APPLY_FILE,user32-WndProc/0001-user32-Increase-MAX_WINPROCS-to-16384.patch)
	@( \
		echo '+    { "user32-WndProc", "Sebastian Lackner", "Workaround for programs leaking wndproc splots." },'; \
	) > user32-WndProc.ok

# Patchset wineboot-HKEY_DYN_DATA
# |
# | Included patches:
# |   *	Add some generic hardware in HKEY_DYN_DATA\Config Manager\Enum. [by Michael Müller]
# |
# | This patchset fixes the following Wine bugs:
# |   *	[#7115] Need for Speed 3 installer requires devices in HKEY_DYN_DATA
# |
# | Modified files:
# |   *	programs/wineboot/wineboot.c
# |
.INTERMEDIATE: wineboot-HKEY_DYN_DATA.ok
wineboot-HKEY_DYN_DATA.ok:
	$(call APPLY_FILE,wineboot-HKEY_DYN_DATA/0001-wineboot-Add-some-generic-hardware-in-HKEY_DYN_DATA-.patch)
	@( \
		echo '+    { "wineboot-HKEY_DYN_DATA", "Michael Müller", "Add some generic hardware in HKEY_DYN_DATA\\\\Config Manager\\\\Enum." },'; \
	) > wineboot-HKEY_DYN_DATA.ok

# Patchset winebuild-LinkerVersion
# |
# | Included patches:
# |   *	Set a valid major and minor linker version in the PE header. [by Michael Müller]
# |
# | This patchset fixes the following Wine bugs:
# |   *	[#28768] Games For Windows Live 1.x expects a valid linker version in the PE header
# |
# | Modified files:
# |   *	tools/winebuild/spec32.c
# |
.INTERMEDIATE: winebuild-LinkerVersion.ok
winebuild-LinkerVersion.ok:
	$(call APPLY_FILE,winebuild-LinkerVersion/0001-winebuild-Set-a-valid-major-and-minor-linker-version.patch)
	@( \
		echo '+    { "winebuild-LinkerVersion", "Michael Müller", "Set a valid major and minor linker version in the PE header." },'; \
	) > winebuild-LinkerVersion.ok

# Patchset winepulse-PulseAudio_Support
# |
# | Included patches:
# |   *	Winepulse patches extracted from https://launchpad.net/~ubuntu-
# | 	wine/+archive/ubuntu/ppa/+files/wine1.7_1.7.22-0ubuntu1.debian.tar.gz. [rev 4, by Maarten Lankhorst]
# |
# | This patchset fixes the following Wine bugs:
# |   *	[#10495] Support for PulseAudio backend for audio
# |
# | Modified files:
# |   *	configure.ac, dlls/mmdevapi/main.c, dlls/mmdevapi/tests/render.c, dlls/winepulse.drv/Makefile.in,
# | 	dlls/winepulse.drv/mmdevdrv.c, dlls/winepulse.drv/winepulse.drv.spec, dlls/winmm/lolvldrv.c
# |
.INTERMEDIATE: winepulse-PulseAudio_Support.ok
winepulse-PulseAudio_Support.ok:
	$(call APPLY_FILE,winepulse-PulseAudio_Support/0001-winmm-Load-winealsa-if-winepulse-is-found.patch)
	$(call APPLY_FILE,winepulse-PulseAudio_Support/0002-winepulse-Add-initial-stub-for-pulseaudio-support.patch)
	$(call APPLY_FILE,winepulse-PulseAudio_Support/0003-winepulse-Add-format-and-period-probing.patch)
	$(call APPLY_FILE,winepulse-PulseAudio_Support/0004-winepulse-Add-audioclient.patch)
	$(call APPLY_FILE,winepulse-PulseAudio_Support/0005-winepulse-Add-IAudioRenderClient-and-IAudioCaptureCl.patch)
	$(call APPLY_FILE,winepulse-PulseAudio_Support/0006-winepulse-Add-IAudioClock-and-IAudioClock2.patch)
	$(call APPLY_FILE,winepulse-PulseAudio_Support/0007-winepulse-Add-audiostreamvolume.patch)
	$(call APPLY_FILE,winepulse-PulseAudio_Support/0008-winepulse-Add-session-support.patch)
	$(call APPLY_FILE,winepulse-PulseAudio_Support/0009-fix-fdels-trailing-whitespaces.patch)
	$(call APPLY_FILE,winepulse-PulseAudio_Support/0010-winepulse-v12.patch)
	$(call APPLY_FILE,winepulse-PulseAudio_Support/0011-winepulse-v15-Add-support-for-missing-formats-and-si.patch)
	$(call APPLY_FILE,winepulse-PulseAudio_Support/0012-winepulse-v16-Add-official-warning-wine-doesn-t-want.patch)
	$(call APPLY_FILE,winepulse-PulseAudio_Support/0013-winepulse-v17-Fix-winmm-tests.patch)
	$(call APPLY_FILE,winepulse-PulseAudio_Support/0014-winepulse-v18-Latency-and-compilation-improvements.patch)
	$(call APPLY_FILE,winepulse-PulseAudio_Support/0015-winepulse-API-Compatibility-with-1.5.2-onward-v2.patch)
	$(call APPLY_FILE,winepulse-PulseAudio_Support/0016-winepulse-Fix-low-latency-support.patch)
	$(call APPLY_FILE,winepulse-PulseAudio_Support/0017-winepulse-drop-realtime-priority-before-thread-destr.patch)
	$(call APPLY_FILE,winepulse-PulseAudio_Support/0018-winepulse-remove-bogus-SetEvent-from-pulse_started_c.patch)
	$(call APPLY_FILE,winepulse-PulseAudio_Support/0019-winepulse-disable-the-setevent-part-of-the-latency-h.patch)
	$(call APPLY_FILE,winepulse-PulseAudio_Support/0020-winepulse-v20-fix-the-checks-in-IsFormatSupported.patch)
	$(call APPLY_FILE,winepulse-PulseAudio_Support/0021-winepulse-fixup-IsFormatSupported-calls.patch)
	$(call APPLY_FILE,winepulse-PulseAudio_Support/0022-winepulse-v21-return-early-if-padding-didn-t-update.patch)
	$(call APPLY_FILE,winepulse-PulseAudio_Support/0023-winepulse-fix-unneeded-free-in-write.patch)
	$(call APPLY_FILE,winepulse-PulseAudio_Support/0024-winepulse-v23-fixup-a-invalid-free-in-mmdevapi.patch)
	$(call APPLY_FILE,winepulse-PulseAudio_Support/0025-winepulse-use-a-pi-mutex-for-serialization.patch)
	$(call APPLY_FILE,winepulse-PulseAudio_Support/0026-winepulse-add-support-for-IMarshal.patch)
	$(call APPLY_FILE,winepulse-PulseAudio_Support/0027-winepulse-handle-stream-create-failing-correctly.patch)
	@( \
		echo '+    { "winepulse-PulseAudio_Support", "Maarten Lankhorst", "Winepulse patches extracted from https://launchpad.net/~ubuntu-wine/+archive/ubuntu/ppa/+files/wine1.7_1.7.22-0ubuntu1.debian.tar.gz. [rev 4]" },'; \
	) > winepulse-PulseAudio_Support.ok

# Patchset winex11-Limited_Resolutions
# |
# | Included patches:
# |   *	Update the check for broken nVidia RandR to test for the number of resolutions instead of the number of modes. [by Erich
# | 	E. Hoover]
# |
# | Modified files:
# |   *	dlls/winex11.drv/xrandr.c
# |
.INTERMEDIATE: winex11-Limited_Resolutions.ok
winex11-Limited_Resolutions.ok:
	$(call APPLY_FILE,winex11-Limited_Resolutions/0001-winex11.drv-Update-the-check-for-broken-nVidia-RandR.patch)
	@( \
		echo '+    { "winex11-Limited_Resolutions", "Erich E. Hoover", "Update the check for broken nVidia RandR to test for the number of resolutions instead of the number of modes." },'; \
	) > winex11-Limited_Resolutions.ok

# Patchset winex11-Window_Groups
# |
# | Included patches:
# |   *	Prevent window managers from grouping all wine programs together. [by Michael Müller]
# |
# | This patchset fixes the following Wine bugs:
# |   *	[#32699] Prevent window managers from grouping all wine programs together
# |
# | Modified files:
# |   *	dlls/winex11.drv/window.c
# |
.INTERMEDIATE: winex11-Window_Groups.ok
winex11-Window_Groups.ok:
	$(call APPLY_FILE,winex11-Window_Groups/0001-winex11-Prevent-window-managers-from-grouping-all-wi.patch)
	@( \
		echo '+    { "winex11-Window_Groups", "Michael Müller", "Prevent window managers from grouping all wine programs together." },'; \
	) > winex11-Window_Groups.ok

# Patchset winex11-XEMBED
# |
# | Included patches:
# |   *	Enable/disable windows when they are (un)mapped by foreign applications. [by Sebastian Lackner]
# |
# | Modified files:
# |   *	dlls/winex11.drv/event.c
# |
.INTERMEDIATE: winex11-XEMBED.ok
winex11-XEMBED.ok:
	$(call APPLY_FILE,winex11-XEMBED/0001-winex11-Enable-disable-windows-when-they-are-un-mapped.patch)
	@( \
		echo '+    { "winex11-XEMBED", "Sebastian Lackner", "Enable/disable windows when they are (un)mapped by foreign applications." },'; \
	) > winex11-XEMBED.ok

# Patchset wpcap-Dynamic_Linking
# |
# | Included patches:
# |   *	Use dynamic linking for libpcap. [by André Hentschel]
# |
# | Modified files:
# |   *	configure.ac, dlls/wpcap/Makefile.in, dlls/wpcap/wpcap.c
# |
.INTERMEDIATE: wpcap-Dynamic_Linking.ok
wpcap-Dynamic_Linking.ok:
	$(call APPLY_FILE,wpcap-Dynamic_Linking/0001-wpcap-Load-libpcap-dynamically.patch)
	@( \
		echo '+    { "wpcap-Dynamic_Linking", "André Hentschel", "Use dynamic linking for libpcap." },'; \
	) > wpcap-Dynamic_Linking.ok

# Patchset ws2_32-Connect_Time
# |
# | Included patches:
# |   *	Return the appropriate connection time with SO_CONNECT_TIME. [by Bruno Jesus / Erich E. Hoover]
# |
# | Modified files:
# |   *	dlls/ws2_32/socket.c, dlls/ws2_32/tests/sock.c, server/protocol.def, server/sock.c
# |
.INTERMEDIATE: ws2_32-Connect_Time.ok
ws2_32-Connect_Time.ok:
	$(call APPLY_FILE,ws2_32-Connect_Time/0001-server-Store-the-time-of-the-socket-connection.patch)
	$(call APPLY_FILE,ws2_32-Connect_Time/0002-ws2_32-Properly-implement-SO_CONNECT_TIME.patch)
	@( \
		echo '+    { "ws2_32-Connect_Time", "Bruno Jesus / Erich E. Hoover", "Return the appropriate connection time with SO_CONNECT_TIME." },'; \
	) > ws2_32-Connect_Time.ok

# Patchset ws2_32-TransmitFile
# |
# | Included patches:
# |   *	Implement TransmitFile. [by Erich E. Hoover]
# |
# | This patchset fixes the following Wine bugs:
# |   *	[#5048] Support for TransmitFile
# |
# | Modified files:
# |   *	dlls/ws2_32/socket.c, dlls/ws2_32/tests/sock.c, include/winsock.h, server/protocol.def, server/sock.c
# |
.INTERMEDIATE: ws2_32-TransmitFile.ok
ws2_32-TransmitFile.ok:
	$(call APPLY_FILE,ws2_32-TransmitFile/0001-ws2_32-Add-stub-for-TransmitFile.patch)
	$(call APPLY_FILE,ws2_32-TransmitFile/0002-ws2_32-Check-for-invalid-parameters-in-TransmitFile.patch)
	$(call APPLY_FILE,ws2_32-TransmitFile/0003-ws2_32-Implement-a-basic-synchronous-TransmitFile.patch)
	$(call APPLY_FILE,ws2_32-TransmitFile/0004-ws2_32-Add-asynchronous-support-for-TransmitFile.patch)
	$(call APPLY_FILE,ws2_32-TransmitFile/0005-ws2_32-Add-support-for-TF_DISCONNECT-and-TF_REUSE_SO.patch)
	@( \
		echo '+    { "ws2_32-TransmitFile", "Erich E. Hoover", "Implement TransmitFile." },'; \
	) > ws2_32-TransmitFile.ok

# Patchset ws2_32-inet_pton
# |
# | Included patches:
# |   *	Implement ws2_32.inet_pton. [by Bruno Jesus]
# |
# | This patchset fixes the following Wine bugs:
# |   *	[#36713] Support for ws2_32.inet_pton
# |
# | Modified files:
# |   *	dlls/ws2_32/socket.c, dlls/ws2_32/ws2_32.spec, include/ws2tcpip.h
# |
.INTERMEDIATE: ws2_32-inet_pton.ok
ws2_32-inet_pton.ok:
	$(call APPLY_FILE,ws2_32-inet_pton/0001-ws2_32-Implement-inet_pton.patch)
	@( \
		echo '+    { "ws2_32-inet_pton", "Bruno Jesus", "Implement ws2_32.inet_pton." },'; \
	) > ws2_32-inet_pton.ok

# Patchset wtsapi32-EnumerateProcesses
# |
# | Included patches:
# |   *	Partial implementation of WTSEnumerateProcessesW. [by Sebastian Lackner]
# |
# | This patchset fixes the following Wine bugs:
# |   *	[#29903] Support for WTSEnumerateProcessesW
# |
# | Modified files:
# |   *	dlls/wtsapi32/tests/wtsapi.c, dlls/wtsapi32/wtsapi32.c
# |
.INTERMEDIATE: wtsapi32-EnumerateProcesses.ok
wtsapi32-EnumerateProcesses.ok:
	$(call APPLY_FILE,wtsapi32-EnumerateProcesses/0001-wtsapi32-Partial-implementation-of-WTSEnumerateProce.patch)
	@( \
		echo '+    { "wtsapi32-EnumerateProcesses", "Sebastian Lackner", "Partial implementation of WTSEnumerateProcessesW." },'; \
	) > wtsapi32-EnumerateProcesses.ok

