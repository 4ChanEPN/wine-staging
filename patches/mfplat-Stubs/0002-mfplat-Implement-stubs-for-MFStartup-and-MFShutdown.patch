From 1070c32921c59adc3c410f8e5bfaea49d7426630 Mon Sep 17 00:00:00 2001
From: Sebastian Lackner <sebastian@fds-team.de>
Date: Fri, 12 Dec 2014 00:56:54 +0100
Subject: mfplat: Implement stubs for MFStartup and MFShutdown.

---
 dlls/mfplat/main.c      | 23 +++++++++++++++++++++++
 dlls/mfplat/mfplat.spec |  4 ++--
 2 files changed, 25 insertions(+), 2 deletions(-)

diff --git a/dlls/mfplat/main.c b/dlls/mfplat/main.c
index a72f634..d86df7d 100644
--- a/dlls/mfplat/main.c
+++ b/dlls/mfplat/main.c
@@ -22,6 +22,11 @@
 
 #include "windef.h"
 #include "winbase.h"
+#include "mferror.h"
+
+#include "wine/debug.h"
+
+WINE_DEFAULT_DEBUG_CHANNEL(mfplat);
 
 BOOL WINAPI DllMain(HINSTANCE instance, DWORD reason, LPVOID reserved)
 {
@@ -36,3 +41,21 @@ BOOL WINAPI DllMain(HINSTANCE instance, DWORD reason, LPVOID reserved)
 
     return TRUE;
 }
+
+/***********************************************************************
+ *      MFStartup (mfplat.@)
+ */
+HRESULT WINAPI MFStartup(ULONG version, DWORD flags)
+{
+    FIXME("(%u, %u): stub\n", version, flags);
+    return MF_E_BAD_STARTUP_VERSION;
+}
+
+/***********************************************************************
+ *      MFShutdown (mfplat.@)
+ */
+HRESULT WINAPI MFShutdown(void)
+{
+    FIXME("(): stub\n");
+    return S_OK;
+}
\ No newline at end of file
diff --git a/dlls/mfplat/mfplat.spec b/dlls/mfplat/mfplat.spec
index 98a7147..7100dfd 100644
--- a/dlls/mfplat/mfplat.spec
+++ b/dlls/mfplat/mfplat.spec
@@ -131,8 +131,8 @@
 @ stub MFSerializeMediaTypeToStream
 @ stub MFSerializePresentationDescriptor
 @ stub MFSetSockaddrAny
-@ stub MFShutdown
-@ stub MFStartup
+@ stdcall MFShutdown()
+@ stdcall MFStartup(long long)
 @ stub MFStreamDescriptorProtectMediaType
 @ stub MFTEnum
 @ stub MFTEnumEx
-- 
2.1.3

