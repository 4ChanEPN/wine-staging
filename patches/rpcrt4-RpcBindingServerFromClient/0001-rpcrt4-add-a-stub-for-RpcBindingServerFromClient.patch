From a5a814e54e48a63984de39b7753cc579b5445eef Mon Sep 17 00:00:00 2001
From: Austin English <austinenglish@gmail.com>
Date: Wed, 6 Jan 2016 03:21:36 -0600
Subject: rpcrt4: add a stub for RpcBindingServerFromClient

https://bugs.winehq.org/show_bug.cgi?id=38766

Signed-off-by: Austin English <austinenglish@gmail.com>
---
 dlls/rpcrt4/rpc_binding.c | 10 ++++++++++
 dlls/rpcrt4/rpcrt4.spec   |  2 +-
 2 files changed, 11 insertions(+), 1 deletion(-)

diff --git a/dlls/rpcrt4/rpc_binding.c b/dlls/rpcrt4/rpc_binding.c
index 72b2fc2..2503d31 100644
--- a/dlls/rpcrt4/rpc_binding.c
+++ b/dlls/rpcrt4/rpc_binding.c
@@ -1634,6 +1634,16 @@ RpcBindingInqAuthClientExW( RPC_BINDING_HANDLE ClientBinding, RPC_AUTHZ_HANDLE *
 }
 
 /***********************************************************************
+ *             RpcBindingServerFromClient (RPCRT4.@)
+ */
+RPCRTAPI RPC_STATUS RPC_ENTRY
+RpcBindingServerFromClient( RPC_BINDING_HANDLE ClientBinding, RPC_BINDING_HANDLE *ServerBinding )
+{
+    FIXME("%p %p: stub\n", ClientBinding, ServerBinding);
+    return RPC_S_INVALID_BINDING;
+}
+
+/***********************************************************************
  *             RpcBindingSetAuthInfoExA (RPCRT4.@)
  */
 RPCRTAPI RPC_STATUS RPC_ENTRY
diff --git a/dlls/rpcrt4/rpcrt4.spec b/dlls/rpcrt4/rpcrt4.spec
index 244bc2a..af8d639 100644
--- a/dlls/rpcrt4/rpcrt4.spec
+++ b/dlls/rpcrt4/rpcrt4.spec
@@ -352,7 +352,7 @@
 @ stdcall RpcBindingInqObject(ptr ptr)
 @ stub RpcBindingInqOption
 @ stdcall RpcBindingReset(ptr)
-@ stub RpcBindingServerFromClient
+@ stdcall RpcBindingServerFromClient(ptr ptr)
 @ stdcall RpcBindingSetAuthInfoA(ptr str long long ptr long)
 @ stdcall RpcBindingSetAuthInfoExA(ptr str long long ptr long ptr)
 @ stdcall RpcBindingSetAuthInfoExW(ptr wstr long long ptr long ptr)
-- 
2.6.4

