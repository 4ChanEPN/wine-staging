From 7ba4a4ba6a474f812418040fc7e9aaafd0fb5c6c Mon Sep 17 00:00:00 2001
From: Sebastian Lackner <sebastian@fds-team.de>
Date: Wed, 12 Jul 2017 04:02:26 +0200
Subject: wined3d: Return hr result in wined3d_event_query_create.

---
 dlls/wined3d/query.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/dlls/wined3d/query.c b/dlls/wined3d/query.c
index 7d726d08832..f1e780396bc 100644
--- a/dlls/wined3d/query.c
+++ b/dlls/wined3d/query.c
@@ -945,7 +945,7 @@ static HRESULT wined3d_event_query_create(struct wined3d_device *device,
     {
         WARN("Event queries not supported.\n");
         HeapFree(GetProcessHeap(), 0, object);
-        return WINED3DERR_NOTAVAILABLE;
+        return hr;
     }
 
     wined3d_query_init(&object->query, device, type, &object->signalled,
-- 
2.13.1

