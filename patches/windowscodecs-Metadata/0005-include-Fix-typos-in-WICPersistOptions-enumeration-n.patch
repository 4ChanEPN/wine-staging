From e9cd0d95e6c21d304f67035b7aa5113021f2aeb1 Mon Sep 17 00:00:00 2001
From: Dmitry Timoshkov <dmitry@baikal.ru>
Date: Tue, 28 Mar 2017 14:29:55 +0800
Subject: include: Fix typos in WICPersistOptions enumeration names.

---
 dlls/windowscodecs/gifformat.c       |  4 ++--
 dlls/windowscodecs/imgfactory.c      |  4 ++--
 dlls/windowscodecs/metadatahandler.c |  6 +++---
 dlls/windowscodecs/tests/converter.c |  4 ++--
 dlls/windowscodecs/tests/metadata.c  | 28 ++++++++++++++--------------
 dlls/windowscodecs/tiffformat.c      |  6 +++---
 include/wincodecsdk.idl              | 12 ++++++------
 7 files changed, 32 insertions(+), 32 deletions(-)

diff --git a/dlls/windowscodecs/gifformat.c b/dlls/windowscodecs/gifformat.c
index efeddb00bb..7537eaca07 100644
--- a/dlls/windowscodecs/gifformat.c
+++ b/dlls/windowscodecs/gifformat.c
@@ -566,7 +566,7 @@ static HRESULT create_metadata_reader(const void *data, int data_size,
     }
 
     stream = create_stream(data, data_size);
-    IWICPersistStream_LoadEx(persist, stream, NULL, WICPersistOptionsDefault);
+    IWICPersistStream_LoadEx(persist, stream, NULL, WICPersistOptionDefault);
     IStream_Release(stream);
 
     IWICPersistStream_Release(persist);
@@ -936,7 +936,7 @@ static HRESULT create_IMD_metadata_reader(GifFrameDecode *This, IWICMetadataRead
     }
 
     stream = create_stream(&IMD_data, sizeof(IMD_data));
-    IWICPersistStream_LoadEx(persist, stream, NULL, WICPersistOptionsDefault);
+    IWICPersistStream_LoadEx(persist, stream, NULL, WICPersistOptionDefault);
     IStream_Release(stream);
 
     IWICPersistStream_Release(persist);
diff --git a/dlls/windowscodecs/imgfactory.c b/dlls/windowscodecs/imgfactory.c
index 0ff4c123ee..c28c4a8d28 100644
--- a/dlls/windowscodecs/imgfactory.c
+++ b/dlls/windowscodecs/imgfactory.c
@@ -1044,7 +1044,7 @@ start:
                         if (SUCCEEDED(hr))
                         {
                             hr = IWICPersistStream_LoadEx(wicpersiststream,
-                                stream, vendor, options & WICPersistOptionsMask);
+                                stream, vendor, options & WICPersistOptionMask);
 
                             IWICPersistStream_Release(wicpersiststream);
                         }
@@ -1088,7 +1088,7 @@ start:
 
             if (SUCCEEDED(hr))
             {
-                hr = IWICPersistStream_LoadEx(wicpersiststream, stream, NULL, options & WICPersistOptionsMask);
+                hr = IWICPersistStream_LoadEx(wicpersiststream, stream, NULL, options & WICPersistOptionMask);
 
                 IWICPersistStream_Release(wicpersiststream);
             }
diff --git a/dlls/windowscodecs/metadatahandler.c b/dlls/windowscodecs/metadatahandler.c
index d0663066c9..e394064f2a 100644
--- a/dlls/windowscodecs/metadatahandler.c
+++ b/dlls/windowscodecs/metadatahandler.c
@@ -390,7 +390,7 @@ static HRESULT WINAPI MetadataHandler_Load(IWICPersistStream *iface,
 {
     MetadataHandler *This = impl_from_IWICPersistStream(iface);
     TRACE("(%p,%p)\n", iface, pStm);
-    return IWICPersistStream_LoadEx(&This->IWICPersistStream_iface, pStm, NULL, WICPersistOptionsDefault);
+    return IWICPersistStream_LoadEx(&This->IWICPersistStream_iface, pStm, NULL, WICPersistOptionDefault);
 }
 
 static HRESULT WINAPI MetadataHandler_Save(IWICPersistStream *iface,
@@ -1059,9 +1059,9 @@ static HRESULT LoadIfdMetadata(IStream *input, const GUID *preferred_vendor,
     TRACE("\n");
 
 #ifdef WORDS_BIGENDIAN
-    if (persist_options & WICPersistOptionsLittleEndian)
+    if (persist_options & WICPersistOptionLittleEndian)
 #else
-    if (persist_options & WICPersistOptionsBigEndian)
+    if (persist_options & WICPersistOptionBigEndian)
 #endif
         native_byte_order = FALSE;
 
diff --git a/dlls/windowscodecs/tests/converter.c b/dlls/windowscodecs/tests/converter.c
index 17724d9ed0..357f9ef642 100644
--- a/dlls/windowscodecs/tests/converter.c
+++ b/dlls/windowscodecs/tests/converter.c
@@ -776,9 +776,9 @@ static void load_stream(IUnknown *reader, IStream *stream)
     HRESULT hr;
     IWICPersistStream *persist;
 #ifdef WORDS_BIGENDIAN
-    DWORD persist_options = WICPersistOptionsBigEndian;
+    DWORD persist_options = WICPersistOptionBigEndian;
 #else
-    DWORD persist_options = WICPersistOptionsLittleEndian;
+    DWORD persist_options = WICPersistOptionLittleEndian;
 #endif
 
     hr = IUnknown_QueryInterface(reader, &IID_IWICPersistStream, (void **)&persist);
diff --git a/dlls/windowscodecs/tests/metadata.c b/dlls/windowscodecs/tests/metadata.c
index 1123b9f7e3..ad5bcf7b98 100644
--- a/dlls/windowscodecs/tests/metadata.c
+++ b/dlls/windowscodecs/tests/metadata.c
@@ -262,7 +262,7 @@ static void test_metadata_unknown(void)
     ok(hr == S_OK, "CoCreateInstance failed, hr=%x\n", hr);
     if (FAILED(hr)) return;
 
-    load_stream((IUnknown*)reader, metadata_unknown, sizeof(metadata_unknown), WICPersistOptionsDefault);
+    load_stream((IUnknown*)reader, metadata_unknown, sizeof(metadata_unknown), WICPersistOptionDefault);
 
     hr = IWICMetadataReader_GetEnumerator(reader, &enumerator);
     ok(hr == S_OK, "GetEnumerator failed, hr=%x\n", hr);
@@ -329,7 +329,7 @@ static void test_metadata_tEXt(void)
     ok(hr == S_OK, "GetCount failed, hr=%x\n", hr);
     ok(count == 0, "unexpected count %i\n", count);
 
-    load_stream((IUnknown*)reader, metadata_tEXt, sizeof(metadata_tEXt), WICPersistOptionsDefault);
+    load_stream((IUnknown*)reader, metadata_tEXt, sizeof(metadata_tEXt), WICPersistOptionDefault);
 
     hr = IWICMetadataReader_GetCount(reader, &count);
     ok(hr == S_OK, "GetCount failed, hr=%x\n", hr);
@@ -440,7 +440,7 @@ static void test_metadata_gAMA(void)
     ok(hr == S_OK || broken(hr == REGDB_E_CLASSNOTREG) /*winxp*/, "CoCreateInstance failed, hr=%x\n", hr);
     if (FAILED(hr)) return;
 
-    load_stream((IUnknown*)reader, metadata_gAMA, sizeof(metadata_gAMA), WICPersistOptionsDefault);
+    load_stream((IUnknown*)reader, metadata_gAMA, sizeof(metadata_gAMA), WICPersistOptionDefault);
 
     hr = IWICMetadataReader_GetMetadataFormat(reader, &format);
     ok(hr == S_OK, "GetMetadataFormat failed, hr=%x\n", hr);
@@ -498,7 +498,7 @@ static void test_metadata_cHRM(void)
     ok(hr == S_OK || broken(hr == REGDB_E_CLASSNOTREG) /*winxp*/, "CoCreateInstance failed, hr=%x\n", hr);
     if (FAILED(hr)) return;
 
-    load_stream((IUnknown*)reader, metadata_cHRM, sizeof(metadata_cHRM), WICPersistOptionsDefault);
+    load_stream((IUnknown*)reader, metadata_cHRM, sizeof(metadata_cHRM), WICPersistOptionDefault);
 
     hr = IWICMetadataReader_GetMetadataFormat(reader, &format);
     ok(hr == S_OK, "GetMetadataFormat failed, hr=%x\n", hr);
@@ -792,9 +792,9 @@ static void test_metadata_IFD(void)
     GUID format;
     char *IFD_data_swapped;
 #ifdef WORDS_BIGENDIAN
-    DWORD persist_options = WICPersistOptionsBigEndian;
+    DWORD persist_options = WICPersistOptionBigEndian;
 #else
-    DWORD persist_options = WICPersistOptionsLittleEndian;
+    DWORD persist_options = WICPersistOptionLittleEndian;
 #endif
 
     hr = CoCreateInstance(&CLSID_WICIfdMetadataReader, NULL, CLSCTX_INPROC_SERVER,
@@ -817,10 +817,10 @@ static void test_metadata_IFD(void)
     compare_metadata(reader, td, count);
 
     /* test IFD data with different endianness */
-    if (persist_options == WICPersistOptionsLittleEndian)
-        persist_options = WICPersistOptionsBigEndian;
+    if (persist_options == WICPersistOptionLittleEndian)
+        persist_options = WICPersistOptionBigEndian;
     else
-        persist_options = WICPersistOptionsLittleEndian;
+        persist_options = WICPersistOptionLittleEndian;
 
     IFD_data_swapped = HeapAlloc(GetProcessHeap(), 0, sizeof(IFD_data));
     memcpy(IFD_data_swapped, &IFD_data, sizeof(IFD_data));
@@ -964,22 +964,22 @@ static void test_create_reader(void)
     stream = create_stream(metadata_tEXt, sizeof(metadata_tEXt));
 
     hr = IWICComponentFactory_CreateMetadataReaderFromContainer(factory,
-        NULL, NULL, WICPersistOptionsDefault,
+        NULL, NULL, WICPersistOptionDefault,
         stream, &reader);
     ok(hr == E_INVALIDARG, "CreateMetadataReaderFromContainer failed, hr=%x\n", hr);
 
     hr = IWICComponentFactory_CreateMetadataReaderFromContainer(factory,
-        &GUID_ContainerFormatPng, NULL, WICPersistOptionsDefault,
+        &GUID_ContainerFormatPng, NULL, WICPersistOptionDefault,
         NULL, &reader);
     ok(hr == E_INVALIDARG, "CreateMetadataReaderFromContainer failed, hr=%x\n", hr);
 
     hr = IWICComponentFactory_CreateMetadataReaderFromContainer(factory,
-        &GUID_ContainerFormatPng, NULL, WICPersistOptionsDefault,
+        &GUID_ContainerFormatPng, NULL, WICPersistOptionDefault,
         stream, NULL);
     ok(hr == E_INVALIDARG, "CreateMetadataReaderFromContainer failed, hr=%x\n", hr);
 
     hr = IWICComponentFactory_CreateMetadataReaderFromContainer(factory,
-        &GUID_ContainerFormatPng, NULL, WICPersistOptionsDefault,
+        &GUID_ContainerFormatPng, NULL, WICPersistOptionDefault,
         stream, &reader);
     ok(hr == S_OK, "CreateMetadataReaderFromContainer failed, hr=%x\n", hr);
 
@@ -997,7 +997,7 @@ static void test_create_reader(void)
     }
 
     hr = IWICComponentFactory_CreateMetadataReaderFromContainer(factory,
-        &GUID_ContainerFormatWmp, NULL, WICPersistOptionsDefault,
+        &GUID_ContainerFormatWmp, NULL, WICPersistOptionDefault,
         stream, &reader);
     ok(hr == S_OK, "CreateMetadataReaderFromContainer failed, hr=%x\n", hr);
 
diff --git a/dlls/windowscodecs/tiffformat.c b/dlls/windowscodecs/tiffformat.c
index c8f16f2112..5bc08e42e5 100644
--- a/dlls/windowscodecs/tiffformat.c
+++ b/dlls/windowscodecs/tiffformat.c
@@ -1517,11 +1517,11 @@ static HRESULT create_metadata_reader(TiffFrameDecode *This, IWICMetadataReader
     {
         BOOL byte_swapped = pTIFFIsByteSwapped(This->parent->tiff);
 #ifdef WORDS_BIGENDIAN
-        DWORD persist_options = byte_swapped ? WICPersistOptionsLittleEndian : WICPersistOptionsBigEndian;
+        DWORD persist_options = byte_swapped ? WICPersistOptionLittleEndian : WICPersistOptionBigEndian;
 #else
-        DWORD persist_options = byte_swapped ? WICPersistOptionsBigEndian : WICPersistOptionsLittleEndian;
+        DWORD persist_options = byte_swapped ? WICPersistOptionBigEndian : WICPersistOptionLittleEndian;
 #endif
-        persist_options |= WICPersistOptionsNoCacheStream;
+        persist_options |= WICPersistOptionNoCacheStream;
         hr = IWICPersistStream_LoadEx(persist, This->parent->stream, NULL, persist_options);
         if (FAILED(hr))
             ERR("IWICPersistStream_LoadEx error %#x\n", hr);
diff --git a/include/wincodecsdk.idl b/include/wincodecsdk.idl
index 7c3c13fbc7..75492774f3 100644
--- a/include/wincodecsdk.idl
+++ b/include/wincodecsdk.idl
@@ -20,13 +20,13 @@ import "wtypes.idl";
 import "wincodec.idl";
 
 typedef enum WICPersistOptions {
-    WICPersistOptionsDefault = 0x00000000,
-    WICPersistOptionsLittleEndian = 0x00000000,
-    WICPersistOptionsBigEndian = 0x00000001,
-    WICPersistOptionsStrictFormat = 0x00000002,
-    WICPersistOptionsNoCacheStream = 0x00000004,
+    WICPersistOptionDefault = 0x00000000,
+    WICPersistOptionLittleEndian = 0x00000000,
+    WICPersistOptionBigEndian = 0x00000001,
+    WICPersistOptionStrictFormat = 0x00000002,
+    WICPersistOptionNoCacheStream = 0x00000004,
     WICPersistOptionPreferUTF8 = 0x00000008,
-    WICPersistOptionsMask = 0x0000FFFF
+    WICPersistOptionMask = 0x0000FFFF
 } WICPersistOptions;
 
 typedef enum WICMetadataCreationOptions {
-- 
2.12.2

