From bcbbde0daf2dd0fed6f41a455dae61b2aac6e376 Mon Sep 17 00:00:00 2001
From: Louis Lenders <xerox.xerox2000x@gmail.com>
Date: Sat, 4 Mar 2017 11:05:52 +0100
Subject: kernel32: add stub for GetCurrentPackageFullName

See bug https://bugs.winehq.org/show_bug.cgi?id=42586

Signed-off-by: Louis Lenders <xerox.xerox2000x@gmail.com>
---
 .../api-ms-win-appmodel-runtime-l1-1-1.spec                      | 2 +-
 dlls/kernel32/kernel32.spec                                      | 2 +-
 dlls/kernel32/version.c                                          | 9 +++++++++
 3 files changed, 11 insertions(+), 2 deletions(-)

diff --git a/dlls/api-ms-win-appmodel-runtime-l1-1-1/api-ms-win-appmodel-runtime-l1-1-1.spec b/dlls/api-ms-win-appmodel-runtime-l1-1-1/api-ms-win-appmodel-runtime-l1-1-1.spec
index af7774d3679..50f8594785f 100644
--- a/dlls/api-ms-win-appmodel-runtime-l1-1-1/api-ms-win-appmodel-runtime-l1-1-1.spec
+++ b/dlls/api-ms-win-appmodel-runtime-l1-1-1/api-ms-win-appmodel-runtime-l1-1-1.spec
@@ -4,7 +4,7 @@
 @ stub GetApplicationUserModelId
 @ stub GetCurrentApplicationUserModelId
 @ stdcall GetCurrentPackageFamilyName(ptr ptr) kernel32.GetCurrentPackageFamilyName
-@ stub GetCurrentPackageFullName
+@ stdcall GetCurrentPackageFullName(ptr ptr) kernel32.GetCurrentPackageFullName
 @ stdcall GetCurrentPackageId(ptr ptr) kernel32.GetCurrentPackageId
 @ stub GetCurrentPackageInfo
 @ stub GetCurrentPackagePath
diff --git a/dlls/kernel32/kernel32.spec b/dlls/kernel32/kernel32.spec
index be514a32371..c240d1fb9ea 100644
--- a/dlls/kernel32/kernel32.spec
+++ b/dlls/kernel32/kernel32.spec
@@ -635,7 +635,7 @@
 @ stdcall GetCurrentDirectoryA(long ptr)
 @ stdcall GetCurrentDirectoryW(long ptr)
 @ stdcall GetCurrentPackageFamilyName(ptr ptr)
-@ stub GetCurrentPackageFullName
+@ stdcall GetCurrentPackageFullName(ptr ptr)
 @ stdcall GetCurrentPackageId(ptr ptr)
 @ stub GetCurrentPackageInfo
 @ stub GetCurrentPackagePath
diff --git a/dlls/kernel32/version.c b/dlls/kernel32/version.c
index 53f594eccab..ddaccacbaa7 100644
--- a/dlls/kernel32/version.c
+++ b/dlls/kernel32/version.c
@@ -216,3 +216,12 @@ LONG WINAPI GetCurrentPackageFamilyName(UINT32 *length, PWSTR name)
     FIXME("(%p %p): stub\n", length, name);
     return APPMODEL_ERROR_NO_PACKAGE;
 }
+
+/***********************************************************************
+ *           GetCurrentPackageFullName       (KERNEL32.@)
+ */
+LONG WINAPI GetCurrentPackageFullName(UINT32 *length, PWSTR name)
+{
+    FIXME("(%p %p): stub\n", length, name);
+    return APPMODEL_ERROR_NO_PACKAGE;
+}
-- 
2.11.0

